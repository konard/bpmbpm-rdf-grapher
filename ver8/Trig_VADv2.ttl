# Пример TriG VADv2 (Value Added Chain Diagram с иерархией TriG)
# Демонстрация иерархии TriG графов через hasParentTrig
# Процесс p1 имеет подтип "DetailedChild" (подпроцесс с детализацией)
# Остальные процессы имеют подтип "Basic"
# Исполнители определены в vad:rtree (Дерево Исполнителей)
#
# ВАЖНЫЕ ПРАВИЛА:
# 1. vad:isSubprocessTrig указывается первым для явной связи индивида с TriG
# 2. ID группы исполнителей формируется как: ExecutorGroup_ + ID процесса

@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix vad: <http://example.org/vad#> .

# ============================================================================
# Дерево Процессов (ptree) - общий граф с метаданными всех процессов
# Содержит rdf:type, rdfs:label, dcterms:description, vad:hasTrig для всех vad:Process
# ============================================================================

vad:ptree {
    vad:ptree rdf:type vad:ProcessTree ;
        rdfs:label "Дерево Процессов (TriG)" ;
        vad:hasParentTrig vad:root .

    # Метаданные процессов для групп процессов (после root)

    vad:pGA rdf:type vad:TypeProcess ;
        rdfs:label "Группа Процессов А" ;
        dcterms:description "Группа Процессов А" ;
        vad:hasTrig vad:t_pGA .

    # Метаданные процессов из vad:pGA (rdf:type, rdfs:label, dcterms:description, vad:hasTrig)  
    
    vad:p1 rdf:type vad:TypeProcess ;
        rdfs:label "p1 Процесс 1" ;
        dcterms:description "Первый процесс в цепочке добавленной стоимости" ;
        vad:hasTrig vad:t_p1 .

    vad:Process2 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 2" ;
        dcterms:description "Второй процесс, выполняется после Процесса 1" .

    vad:Process3 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 3" ;
        dcterms:description "Третий процесс в цепочке" .

    vad:Process4 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 4" ;
        dcterms:description "Четвёртый процесс в цепочке" .

    vad:Process5 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 5" ;
        dcterms:description "Пятый процесс в цепочке" .

    vad:Process6 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 6" ;
        dcterms:description "Шестой процесс в цепочке" .

    vad:Process7 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 7" ;
        dcterms:description "Седьмой процесс в цепочке" .

    vad:Process8 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 8" ;
        dcterms:description "Заключительный процесс в цепочке" .

    # Метаданные процессов из vad:t_p1 (rdf:type, rdfs:label, dcterms:description)
    vad:Process21 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 21" ;
        dcterms:description "Первый процесс в цепочке vad:t_p1" .

    vad:Process22 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 22" ;
        dcterms:description "Второй процесс в цепочке vad:t_p1" .

    vad:Process23 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 23" ;
        dcterms:description "Третий процесс в цепочке vad:t_p1" .

    vad:Process24 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 24" ;
        dcterms:description "Четвёртый процесс в цепочке vad:t_p1" .

    vad:Process25 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 25" ;
        dcterms:description "Пятый процесс в цепочке vad:t_p1" .

    vad:Process26 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 26" ;
        dcterms:description "Шестой процесс в цепочке vad:t_p1" .

    vad:Process27 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 27" ;
        dcterms:description "Седьмой процесс в цепочке vad:t_p1" .

    vad:Process28 rdf:type vad:TypeProcess ;
        rdfs:label "Процесс 28" ;
        dcterms:description "Заключительный процесс в цепочке vad:t_p1" .
}

# ============================================================================
# Дерево Исполнителей (rtree) - общий граф с метаданными всех исполнителей
# Содержит rdf:type, rdfs:label для всех vad:Executor
# ============================================================================

vad:rtree {
    vad:rtree rdf:type vad:ExecutorTree ;
        rdfs:label "Дерево Исполнителей (TriG)" ;
        vad:hasParentTrig vad:root .

    # Исполнители для t_pGA
    vad:Executor1 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 1" .

    vad:Executor2 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 2" .

    vad:Executor3 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 3" .

    vad:Executor4 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 4" .

    vad:Executor5 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 5" .

    vad:Executor6 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 6" .

    vad:Executor7 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 7" .

    vad:Executor8 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 8" .

    # Исполнители для t_p1
    vad:Executor21 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 21" .

    vad:Executor22 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 22" .

    vad:Executor23 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 23" .

    vad:Executor24 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 24" .

    vad:Executor25 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 25" .

    vad:Executor26 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 26" .

    vad:Executor27 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 27" .

    vad:Executor28 rdf:type vad:TypeExecutor ;
        rdfs:label "Исполнитель 28" .
}

# ============================================================================
# Корневой TriG граф: t_pGA (hasParentTrig = root)
# ============================================================================

vad:t_pGA {
    vad:t_pGA rdf:type vad:VADProcessDia ;
        rdfs:label "Схема t_pGA процесса pGA" ;
        vad:hasParentTrig vad:root ;
        vad:definesProcess vad:pGA .

    # Процесс 1 - DetailedChild (имеет дочернюю схему vad:t_p1 с hasParentTrig на текущую)
    # rdf:type находится в vad:ptree
    # isSubprocessTrig указывается первым для явной связи с TriG
    vad:p1 vad:isSubprocessTrig vad:t_pGA ;
        vad:hasExecutor vad:ExecutorGroup_p1 ;
        vad:processSubtype vad:DetailedChild ;
        vad:hasNext vad:Process2 .

    # Процесс 2 - Базовый
    vad:Process2 vad:isSubprocessTrig vad:t_pGA ;
        vad:hasExecutor vad:ExecutorGroup_Process2 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process3, vad:Process4 .

    # Процесс 3 - Базовый
    vad:Process3 vad:isSubprocessTrig vad:t_pGA ;
        vad:hasExecutor vad:ExecutorGroup_Process3 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process4 .

    # Процесс 4 - Базовый
    vad:Process4 vad:isSubprocessTrig vad:t_pGA ;
        vad:hasExecutor vad:ExecutorGroup_Process4 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process5 .

    # Процесс 5 - Базовый
    vad:Process5 vad:isSubprocessTrig vad:t_pGA ;
        vad:hasExecutor vad:ExecutorGroup_Process5 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process6 .

    # Процесс 6 - Базовый
    vad:Process6 vad:isSubprocessTrig vad:t_pGA ;
        vad:hasExecutor vad:ExecutorGroup_Process6 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process7 .

    # Процесс 7 - Базовый
    vad:Process7 vad:isSubprocessTrig vad:t_pGA ;
        vad:hasExecutor vad:ExecutorGroup_Process7 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process8 .

    # Процесс 8 - Базовый
    vad:Process8 vad:isSubprocessTrig vad:t_pGA ;
        vad:hasExecutor vad:ExecutorGroup_Process8 ;
        vad:processSubtype vad:Basic .

    # Группы исполнителей (ID формируется как ExecutorGroup_ + ID процесса)
    vad:ExecutorGroup_p1 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса p1" ;
        vad:includes vad:Executor1 .

    vad:ExecutorGroup_Process2 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process2" ;
        vad:includes vad:Executor1, vad:Executor2 .

    vad:ExecutorGroup_Process3 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process3" ;
        vad:includes vad:Executor3 .

    vad:ExecutorGroup_Process4 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process4" ;
        vad:includes vad:Executor3, vad:Executor4 .

    vad:ExecutorGroup_Process5 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process5" ;
        vad:includes vad:Executor5, vad:Executor6 .

    vad:ExecutorGroup_Process6 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process6" ;
        vad:includes vad:Executor7, vad:Executor8 .

    vad:ExecutorGroup_Process7 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process7" ;
        vad:includes vad:Executor1, vad:Executor5 .

    vad:ExecutorGroup_Process8 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process8" ;
        vad:includes vad:Executor2, vad:Executor7 .

    # Примечание: Исполнители (vad:Executor1..8) определены в vad:rtree
}

# ============================================================================
# Дочерний TriG граф: t_p1 (hasParentTrig = t_pGA)
# Это детализация процесса p1 из родительского графа t_pGA
# Все объекты имеют префикс 2 в номерах (Process21, Исполнитель 21 и т.д.)
# ============================================================================

vad:t_p1 {
    vad:t_p1 rdf:type vad:VADProcessDia ;
        rdfs:label "Схема t_p1 процесса p1" ;
        vad:hasParentTrig vad:t_pGA ;
        vad:definesProcess vad:p1 .

    # Процесс 21 - Базовый
    # rdf:type находится в vad:ptree
    # isSubprocessTrig указывается первым для явной связи с TriG
    vad:Process21 vad:isSubprocessTrig vad:t_p1 ;
        vad:hasExecutor vad:ExecutorGroup_Process21 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process22 .

    # Процесс 22 - Базовый
    vad:Process22 vad:isSubprocessTrig vad:t_p1 ;
        vad:hasExecutor vad:ExecutorGroup_Process22 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process23, vad:Process24 .

    # Процесс 23 - Базовый
    vad:Process23 vad:isSubprocessTrig vad:t_p1 ;
        vad:hasExecutor vad:ExecutorGroup_Process23 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process24 .

    # Процесс 24 - Базовый
    vad:Process24 vad:isSubprocessTrig vad:t_p1 ;
        vad:hasExecutor vad:ExecutorGroup_Process24 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process25 .

    # Процесс 25 - Базовый
    vad:Process25 vad:isSubprocessTrig vad:t_p1 ;
        vad:hasExecutor vad:ExecutorGroup_Process25 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process26 .

    # Процесс 26 - Базовый
    vad:Process26 vad:isSubprocessTrig vad:t_p1 ;
        vad:hasExecutor vad:ExecutorGroup_Process26 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process27 .

    # Процесс 27 - Базовый
    vad:Process27 vad:isSubprocessTrig vad:t_p1 ;
        vad:hasExecutor vad:ExecutorGroup_Process27 ;
        vad:processSubtype vad:Basic ;
        vad:hasNext vad:Process28 .

    # Процесс 28 - Базовый
    vad:Process28 vad:isSubprocessTrig vad:t_p1 ;
        vad:hasExecutor vad:ExecutorGroup_Process28 ;
        vad:processSubtype vad:Basic .

    # Группы исполнителей (ID формируется как ExecutorGroup_ + ID процесса)
    vad:ExecutorGroup_Process21 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process21" ;
        vad:includes vad:Executor21 .

    vad:ExecutorGroup_Process22 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process22" ;
        vad:includes vad:Executor21, vad:Executor22 .

    vad:ExecutorGroup_Process23 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process23" ;
        vad:includes vad:Executor23 .

    vad:ExecutorGroup_Process24 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process24" ;
        vad:includes vad:Executor23, vad:Executor24 .

    vad:ExecutorGroup_Process25 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process25" ;
        vad:includes vad:Executor25, vad:Executor26 .

    vad:ExecutorGroup_Process26 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process26" ;
        vad:includes vad:Executor27, vad:Executor28 .

    vad:ExecutorGroup_Process27 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process27" ;
        vad:includes vad:Executor21, vad:Executor25 .

    vad:ExecutorGroup_Process28 rdf:type vad:ExecutorGroup ;
        rdfs:label "Группа исполнителей процесса Process28" ;
        vad:includes vad:Executor22, vad:Executor27 .

    # Примечание: Исполнители (vad:Executor21..28) определены в vad:rtree
}
