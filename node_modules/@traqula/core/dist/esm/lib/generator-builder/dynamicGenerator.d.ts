import { AstCoreFactory } from '../AstCoreFactory.js';
import type { SourceLocationInlinedSource } from '../types.js';
import { traqulaIndentation, traqulaNewlineAlternative } from '../utils.js';
import type { GenRuleMap } from './builderTypes.js';
import type { RuleDefArg } from './generatorTypes.js';
export interface GeneratorContext {
    [traqulaIndentation]?: number;
    [traqulaNewlineAlternative]?: string;
}
export declare class DynamicGenerator<Context, Names extends string, RuleDefs extends GenRuleMap<Names>> {
    protected rules: RuleDefs;
    protected readonly factory: AstCoreFactory;
    protected __context: Context | undefined;
    protected origSource: string;
    protected handledInlineSource: SourceLocationInlinedSource | undefined;
    protected generatedUntil: number;
    protected toEnsure: ((willPrint: string) => void)[];
    /**
     * Should not contain empty strings
     * @protected
     */
    protected readonly stringBuilder: string[];
    constructor(rules: RuleDefs);
    setContext(context: Context): void;
    protected getSafeContext(): Context & GeneratorContext;
    protected readonly subrule: RuleDefArg['SUBRULE'];
    protected readonly handleLoc: RuleDefArg['HANDLE_LOC'];
    /**
     * Catchup until, excluding
     */
    protected readonly catchup: RuleDefArg['CATCHUP'];
    private handeEnsured;
    protected readonly print: RuleDefArg['PRINT'];
    private doesEndWith;
    protected readonly ensure: RuleDefArg['ENSURE'];
    protected readonly ensureEither: RuleDefArg['ENSURE_EITHER'];
    private pruneEndingBlanks;
    protected readonly newLine: RuleDefArg['NEW_LINE'];
    private readonly printWord;
    private readonly printWords;
    private readonly printOnEmpty;
    private readonly printOnOwnLine;
}
