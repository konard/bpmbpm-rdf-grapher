{"version":3,"file":"Patternfactory.js","sourceRoot":"","sources":["../../../../lib/factoryMixins/Patternfactory.ts"],"names":[],"mappings":"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","sourcesContent":["import type { AstCoreFactory, SourceLocation, Typed, SubTyped } from '@traqula/core';\nimport type {\n  BasicGraphPattern,\n  Expression,\n  Pattern,\n  PatternBgp,\n  PatternBind,\n  PatternFilter,\n  PatternGraph,\n  PatternGroup,\n  PatternMinus,\n  PatternOptional,\n  PatternService,\n  PatternUnion,\n  PatternValues,\n  TermIri,\n  TermVariable,\n  ValuePatternRow,\n} from '../Sparql11types.js';\nimport type { Constructor } from './mixins.js';\n\ntype NodeType = 'pattern';\nconst nodeType: NodeType = 'pattern';\n\n// eslint-disable-next-line ts/explicit-function-return-type\nexport function PatternFactoryMixin<TBase extends Constructor<AstCoreFactory>>(Base: TBase) {\n  return class PatternFactory extends Base {\n    public isPattern(obj: object): obj is Typed<NodeType> {\n      return this.isOfType(obj, nodeType);\n    }\n\n    public patternBgp(triples: BasicGraphPattern, loc: SourceLocation): PatternBgp {\n      return { type: nodeType, subType: 'bgp', triples, loc };\n    }\n\n    public isPatternBgp(obj: object): obj is SubTyped<NodeType, 'bgp'> {\n      return this.isOfSubType(obj, nodeType, 'bgp');\n    }\n\n    public patternGroup(patterns: Pattern[], loc: SourceLocation): PatternGroup {\n      return { type: nodeType, subType: 'group', patterns, loc };\n    }\n\n    public isPatternGroup(obj: object): obj is SubTyped<NodeType, 'group'> {\n      return this.isOfSubType(obj, nodeType, 'group');\n    }\n\n    public patternGraph(name: TermIri | TermVariable, patterns: Pattern[], loc: SourceLocation): PatternGraph {\n      return { type: nodeType, subType: 'graph', name, patterns, loc };\n    }\n\n    public isPatternGraph(obj: object): obj is SubTyped<NodeType, 'graph'> {\n      return this.isOfSubType(obj, nodeType, 'graph');\n    }\n\n    public patternOptional(patterns: Pattern[], loc: SourceLocation): PatternOptional {\n      return { type: nodeType, subType: 'optional', patterns, loc };\n    }\n\n    public isPatternOptional(obj: object): obj is SubTyped<NodeType, 'optional'> {\n      return this.isOfSubType(obj, nodeType, 'optional');\n    }\n\n    public patternValues(variables: TermVariable[], values: ValuePatternRow[], loc: SourceLocation): PatternValues {\n      return { type: nodeType, subType: 'values', variables, values, loc };\n    }\n\n    public isPatternValues(obj: object): obj is SubTyped<NodeType, 'values'> {\n      return this.isOfSubType(obj, nodeType, 'values');\n    }\n\n    public patternFilter(expression: Expression, loc: SourceLocation): PatternFilter {\n      return {\n        type: nodeType,\n        subType: 'filter',\n        expression,\n        loc,\n      };\n    }\n\n    public isPatternFilter(obj: object): obj is SubTyped<NodeType, 'filter'> {\n      return this.isOfSubType(obj, nodeType, 'filter');\n    }\n\n    public patternBind(\n      expression: Expression,\n      variable: TermVariable,\n      loc: SourceLocation,\n    ): PatternBind {\n      return {\n        type: nodeType,\n        subType: 'bind',\n        expression,\n        variable,\n        loc,\n      };\n    }\n\n    public isPatternBind(obj: object): obj is SubTyped<NodeType, 'bind'> {\n      return this.isOfSubType(obj, nodeType, 'bind');\n    }\n\n    public patternUnion(patterns: PatternGroup[], loc: SourceLocation): PatternUnion {\n      return {\n        type: nodeType,\n        subType: 'union',\n        patterns,\n        loc,\n      };\n    }\n\n    public isPatternUnion(obj: object): obj is SubTyped<NodeType, 'union'> {\n      return this.isOfSubType(obj, nodeType, 'union');\n    }\n\n    public patternMinus(patterns: Pattern[], loc: SourceLocation): PatternMinus {\n      return {\n        type: nodeType,\n        subType: 'minus',\n        patterns,\n        loc,\n      };\n    }\n\n    public isPatternMinus(obj: object): obj is SubTyped<NodeType, 'minus'> {\n      return this.isOfSubType(obj, nodeType, 'minus');\n    }\n\n    public patternService(\n      name: TermIri | TermVariable,\n      patterns: Pattern[],\n      silent: boolean,\n      loc: SourceLocation,\n    ): PatternService {\n      return {\n        type: nodeType,\n        subType: 'service',\n        silent,\n        name,\n        patterns,\n        loc,\n      };\n    }\n\n    public isPatternService(obj: object): obj is SubTyped<NodeType, 'service'> {\n      return this.isOfSubType(obj, nodeType, 'service');\n    }\n  };\n}\n"]}