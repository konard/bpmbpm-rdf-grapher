{"version":3,"file":"UpdateOperationFactory.js","sourceRoot":"","sources":["../../../../lib/factoryMixins/UpdateOperationFactory.ts"],"names":[],"mappings":"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","sourcesContent":["import type { AstCoreFactory, SourceLocation, SubTyped, Typed } from '@traqula/core';\nimport type {\n  DatasetClauses,\n  GraphRef,\n  GraphRefDefault,\n  GraphRefSpecific,\n  PatternGroup,\n  Quads,\n  TermIri,\n  UpdateOperationAdd,\n  UpdateOperationClear,\n  UpdateOperationCopy,\n  UpdateOperationCreate,\n  UpdateOperationDeleteData,\n  UpdateOperationDeleteWhere,\n  UpdateOperationDrop,\n  UpdateOperationInsertData,\n  UpdateOperationLoad,\n  UpdateOperationModify,\n  UpdateOperationMove,\n} from '../Sparql11types.js';\nimport type { Constructor } from './mixins.js';\n\ntype NodeType = 'updateOperation';\nconst nodeType: NodeType = 'updateOperation';\n\n// eslint-disable-next-line ts/explicit-function-return-type\nexport function UpdateOperationFactoryMixin<TBase extends Constructor<AstCoreFactory>>(Base: TBase) {\n  return class UpdateOperationFactory extends Base {\n    public isUpdateOperation(obj: object): obj is Typed<NodeType> {\n      return this.isOfType(obj, nodeType);\n    }\n\n    public updateOperationLoad(\n      loc: SourceLocation,\n      source: TermIri,\n      silent: boolean,\n      destination?: GraphRefSpecific | undefined,\n    ): UpdateOperationLoad {\n      return {\n        type: nodeType,\n        subType: 'load',\n        silent,\n        source,\n        ...(destination && { destination }),\n        loc,\n      };\n    }\n\n    public isUpdateOperationLoad(obj: object): obj is SubTyped<NodeType, 'load'> {\n      return this.isOfSubType(obj, nodeType, 'load');\n    }\n\n    public updateOperationClearDrop(subType: 'clear', silent: boolean, destination: GraphRef, loc: SourceLocation):\n    UpdateOperationClear;\n    public updateOperationClearDrop(subType: 'drop', silent: boolean, destination: GraphRef, loc: SourceLocation):\n    UpdateOperationDrop;\n    public updateOperationClearDrop(\n      subType: 'clear' | 'drop',\n      silent: boolean,\n      destination: GraphRef,\n      loc: SourceLocation\n    ): UpdateOperationClear | UpdateOperationDrop;\n    public updateOperationClearDrop(\n      subType: 'clear' | 'drop',\n      silent: boolean,\n      destination: GraphRef,\n      loc: SourceLocation,\n    ): UpdateOperationClear | UpdateOperationDrop {\n      return {\n        type: 'updateOperation',\n        subType,\n        silent,\n        destination,\n        loc,\n      };\n    }\n\n    public updateOperationClear(\n      destination: GraphRef,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationClear {\n      return this.updateOperationClearDrop('clear', silent, destination, loc);\n    };\n\n    public isUpdateOperationClear(obj: object): obj is SubTyped<NodeType, 'clear'> {\n      return this.isOfSubType(obj, nodeType, 'clear');\n    }\n\n    public updateOperationDrop(\n      destination: GraphRef,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationDrop {\n      return this.updateOperationClearDrop('drop', silent, destination, loc);\n    }\n\n    public isUpdateOperationDrop(obj: object): obj is SubTyped<NodeType, 'drop'> {\n      return this.isOfSubType(obj, nodeType, 'drop');\n    }\n\n    public updateOperationCreate(\n      destination: GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationCreate {\n      return {\n        type: 'updateOperation',\n        subType: 'create',\n        silent,\n        destination,\n        loc,\n      };\n    }\n\n    public isUpdateOperationCreate(obj: object): obj is SubTyped<NodeType, 'create'> {\n      return this.isOfSubType(obj, nodeType, 'create');\n    }\n\n    public updateOperationAddMoveCopy(\n      subType: 'add',\n      source: GraphRefDefault | GraphRefSpecific,\n      destination: GraphRefDefault | GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationAdd;\n    public updateOperationAddMoveCopy(\n      subType: 'move',\n      source: GraphRefDefault | GraphRefSpecific,\n      destination: GraphRefDefault | GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationMove ;\n    public updateOperationAddMoveCopy(\n      subType: 'copy',\n      source: GraphRefDefault | GraphRefSpecific,\n      destination: GraphRefDefault | GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationCopy;\n    public updateOperationAddMoveCopy(\n      subType: 'add' | 'move' | 'copy',\n      source: GraphRefDefault | GraphRefSpecific,\n      destination: GraphRefDefault | GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationAdd | UpdateOperationMove | UpdateOperationCopy;\n    public updateOperationAddMoveCopy(\n      subType: 'add' | 'move' | 'copy',\n      source: GraphRefDefault | GraphRefSpecific,\n      destination: GraphRefDefault | GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationAdd | UpdateOperationMove | UpdateOperationCopy {\n      return {\n        type: 'updateOperation',\n        subType,\n        silent,\n        source,\n        destination,\n        loc,\n      };\n    }\n\n    public updateOperationAdd(\n      source: GraphRefDefault | GraphRefSpecific,\n      destination: GraphRefDefault | GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationAdd {\n      return this.updateOperationAddMoveCopy('add', source, destination, silent, loc);\n    }\n\n    public isUpdateOperationAdd(obj: object): obj is SubTyped<NodeType, 'add'> {\n      return this.isOfSubType(obj, nodeType, 'add');\n    }\n\n    public updateOperationMove(\n      source: GraphRefDefault | GraphRefSpecific,\n      destination: GraphRefDefault | GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationMove {\n      return this.updateOperationAddMoveCopy('move', source, destination, silent, loc);\n    }\n\n    public isUpdateOperationMove(obj: object): obj is SubTyped<NodeType, 'move'> {\n      return this.isOfSubType(obj, nodeType, 'move');\n    }\n\n    public updateOperationCopy(\n      source: GraphRefDefault | GraphRefSpecific,\n      destination: GraphRefDefault | GraphRefSpecific,\n      silent: boolean,\n      loc: SourceLocation,\n    ): UpdateOperationCopy {\n      return this.updateOperationAddMoveCopy('copy', source, destination, silent, loc);\n    }\n\n    public isUpdateOperationCopy(obj: object): obj is SubTyped<NodeType, 'copy'> {\n      return this.isOfSubType(obj, nodeType, 'copy');\n    }\n\n    public updateOperationInsDelDataWhere(subType: 'insertdata', data: Quads[], loc: SourceLocation):\n    UpdateOperationInsertData;\n    public updateOperationInsDelDataWhere(subType: 'deletedata', data: Quads[], loc: SourceLocation):\n    UpdateOperationDeleteData;\n    public updateOperationInsDelDataWhere(subType: 'deletewhere', data: Quads[], loc: SourceLocation):\n    UpdateOperationDeleteWhere;\n    public updateOperationInsDelDataWhere(\n      subType: 'insertdata' | 'deletedata' | 'deletewhere',\n      data: Quads[],\n      loc: SourceLocation,\n    ): UpdateOperationInsertData | UpdateOperationDeleteData | UpdateOperationDeleteWhere;\n    public updateOperationInsDelDataWhere(\n      subType: 'insertdata' | 'deletedata' | 'deletewhere',\n      data: Quads[],\n      loc: SourceLocation,\n    ): UpdateOperationInsertData | UpdateOperationDeleteData | UpdateOperationDeleteWhere {\n      return {\n        type: 'updateOperation',\n        subType,\n        data,\n        loc,\n      };\n    }\n\n    public updateOperationInsertData(data: Quads[], loc: SourceLocation): UpdateOperationInsertData {\n      return this.updateOperationInsDelDataWhere('insertdata', data, loc);\n    }\n\n    public isUpdateOperationInsertData(obj: object): obj is SubTyped<NodeType, 'insertdata'> {\n      return this.isOfSubType(obj, nodeType, 'insertdata');\n    }\n\n    public updateOperationDeleteData(data: Quads[], loc: SourceLocation): UpdateOperationDeleteData {\n      return this.updateOperationInsDelDataWhere('deletedata', data, loc);\n    }\n\n    public isUpdateOperationDeleteData(obj: object): obj is SubTyped<NodeType, 'deletedata'> {\n      return this.isOfSubType(obj, nodeType, 'deletedata');\n    }\n\n    public updateOperationDeleteWhere(data: Quads[], loc: SourceLocation): UpdateOperationDeleteWhere {\n      return this.updateOperationInsDelDataWhere('deletewhere', data, loc);\n    }\n\n    public isUpdateOperationDeleteWhere(obj: object): obj is SubTyped<NodeType, 'deletewhere'> {\n      return this.isOfSubType(obj, nodeType, 'deletewhere');\n    }\n\n    public updateOperationModify(\n      loc: SourceLocation,\n      insert: Quads[] | undefined,\n      del: Quads[] | undefined,\n      where: PatternGroup,\n      from: DatasetClauses,\n      graph?: TermIri | undefined,\n    ): UpdateOperationModify {\n      return {\n        type: 'updateOperation',\n        subType: 'modify',\n        insert: insert ?? [],\n        delete: del ?? [],\n        graph,\n        where,\n        from,\n        loc,\n      };\n    }\n\n    public isUpdateOperationModify(obj: object): obj is SubTyped<NodeType, 'modify'> {\n      return this.isOfSubType(obj, nodeType, 'modify');\n    }\n  };\n}\n"]}