{"version":3,"file":"whereClause.js","sourceRoot":"","sources":["../../../../lib/grammar/whereClause.ts"],"names":[],"mappings":"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","sourcesContent":["import type { RuleDefReturn, Wrap } from '@traqula/core';\nimport { traqulaIndentation } from '@traqula/core';\nimport * as l from '../lexer/index.js';\nimport type { SparqlGeneratorRule, SparqlGrammarRule, SparqlRule } from '../sparql11HelperTypes.js';\nimport type {\n  Expression,\n  ExpressionFunctionCall,\n  Pattern,\n  PatternBgp,\n  PatternBind,\n  PatternFilter,\n  PatternGraph,\n  PatternGroup,\n  PatternMinus,\n  PatternOptional,\n  PatternService,\n  PatternUnion,\n  PatternValues,\n  SubSelect,\n  TermIri,\n  TermLiteral,\n  TermVariable,\n  ValuePatternRow,\n} from '../Sparql11types.js';\nimport { checkNote13 } from '../validation/validators.js';\nimport { builtInCall } from './builtIn.js';\nimport { argList, brackettedExpression, expression } from './expression.js';\nimport { var_, varOrIri, varOrTerm } from './general.js';\nimport { booleanLiteral, iri, numericLiteral, rdfLiteral } from './literals.js';\nimport { query, subSelect } from './queryUnit.js';\nimport { graphNodePath, triplesBlock } from './tripleBlock.js';\n\n/**\n * [[17]](https://www.w3.org/TR/sparql11-query/#rWhereClause)\n */\nexport const whereClause: SparqlRule<'whereClause', Wrap<PatternGroup>> = <const> {\n  name: 'whereClause',\n  impl: ({ ACTION, SUBRULE, CONSUME, OPTION }) => (C) => {\n    const where = OPTION(() => CONSUME(l.where));\n    const group = SUBRULE(groupGraphPattern);\n    return ACTION(() => C.astFactory.wrap(group, C.astFactory.sourceLocation(where, group)));\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD }) => (ast, { astFactory: F }) => {\n    F.printFilter(ast, () => PRINT_WORD('WHERE'));\n    SUBRULE(groupGraphPattern, ast.val);\n  },\n};\n\n/**\n * [[53]](https://www.w3.org/TR/sparql11-query/#rGroupGraphPattern)\n */\nexport const groupGraphPattern: SparqlRule<'groupGraphPattern', PatternGroup> = <const> {\n  name: 'groupGraphPattern',\n  impl: ({ ACTION, SUBRULE, CONSUME, OR }) => (C) => {\n    const open = CONSUME(l.symbols.LCurly);\n    const patterns = OR<Pattern[]>([\n      { ALT: () => [ SUBRULE(subSelect) ]},\n      { ALT: () => SUBRULE(groupGraphPatternSub) },\n    ]);\n    const close = CONSUME(l.symbols.RCurly);\n\n    return ACTION(() => C.astFactory.patternGroup(patterns, C.astFactory.sourceLocation(open, close)));\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD, NEW_LINE, PRINT_ON_OWN_LINE }) => (ast, C) => {\n    const { astFactory: F, indentInc } = C;\n    F.printFilter(ast, () => {\n      C[traqulaIndentation] += indentInc;\n      PRINT_WORD('{');\n      NEW_LINE();\n    });\n\n    for (const pattern of ast.patterns) {\n      SUBRULE(generatePattern, pattern);\n    }\n\n    F.printFilter(ast, () => {\n      C[traqulaIndentation] -= indentInc;\n      PRINT_ON_OWN_LINE('}');\n    });\n  },\n};\n\nexport const generatePattern: SparqlGeneratorRule<'generatePattern', Pattern> = {\n  name: 'generatePattern',\n  gImpl: ({ SUBRULE }) => (ast, { astFactory: F }) => {\n    if (ast.type === 'query') {\n      SUBRULE(query, F.querySelect({\n        context: [],\n        datasets: F.datasetClauses([], F.sourceLocation()),\n        where: ast.where,\n        variables: ast.variables,\n        solutionModifiers: ast.solutionModifiers,\n        values: ast.values,\n        distinct: ast.distinct,\n        reduced: ast.reduced,\n      }, ast.loc));\n    } else if (ast.subType === 'group') {\n      SUBRULE(groupGraphPattern, ast);\n    } else if (ast.subType === 'bgp') {\n      SUBRULE(triplesBlock, ast);\n    } else {\n      SUBRULE(graphPatternNotTriples, ast);\n    }\n  },\n};\n\n/**\n * [[54]](https://www.w3.org/TR/sparql11-query/#rGroupGraphPatternSub)\n */\nexport const groupGraphPatternSub:\nSparqlGrammarRule<'groupGraphPatternSub', Pattern[]> = <const> {\n  name: 'groupGraphPatternSub',\n  impl: ({ ACTION, SUBRULE, CONSUME, MANY, SUBRULE1, SUBRULE2, OPTION1, OPTION2, OPTION3 }) => (C) => {\n    const patterns: Pattern[] = [];\n\n    const bgpPattern = OPTION1(() => SUBRULE1(triplesBlock));\n    if (bgpPattern) {\n      patterns.push(bgpPattern);\n    }\n    MANY(() => {\n      const notTriples = SUBRULE(graphPatternNotTriples);\n      patterns.push(notTriples);\n\n      OPTION2(() => CONSUME(l.symbols.dot));\n\n      const moreTriples = OPTION3(() => SUBRULE2(triplesBlock));\n      if (moreTriples) {\n        patterns.push(moreTriples);\n      }\n    });\n\n    ACTION(() => !C.skipValidation && checkNote13(patterns));\n\n    return patterns;\n  },\n};\n\n/**\n * [[56]](https://www.w3.org/TR/sparql11-query/#rGraphPatternNotTriples)\n */\nexport const graphPatternNotTriples: SparqlRule<'graphPatternNotTriples', Exclude<Pattern, SubSelect | PatternBgp>> = {\n  name: 'graphPatternNotTriples',\n  impl: ({ SUBRULE, OR }) => () => OR<RuleDefReturn<typeof graphPatternNotTriples>>([\n    { ALT: () => SUBRULE(groupOrUnionGraphPattern) },\n    { ALT: () => SUBRULE(optionalGraphPattern) },\n    { ALT: () => SUBRULE(minusGraphPattern) },\n    { ALT: () => SUBRULE(graphGraphPattern) },\n    { ALT: () => SUBRULE(serviceGraphPattern) },\n    { ALT: () => SUBRULE(filter) },\n    { ALT: () => SUBRULE(bind) },\n    { ALT: () => SUBRULE(inlineData) },\n  ]),\n  gImpl: ({ SUBRULE }) => (ast) => {\n    switch (ast.subType) {\n      case 'group':\n      case 'union':\n        SUBRULE(groupOrUnionGraphPattern, ast);\n        break;\n      case 'optional':\n        SUBRULE(optionalGraphPattern, ast);\n        break;\n      case 'minus':\n        SUBRULE(minusGraphPattern, ast);\n        break;\n      case 'graph':\n        SUBRULE(graphGraphPattern, ast);\n        break;\n      case 'service':\n        SUBRULE(serviceGraphPattern, ast);\n        break;\n      case 'filter':\n        SUBRULE(filter, ast);\n        break;\n      case 'bind':\n        SUBRULE(bind, ast);\n        break;\n      case 'values':\n        SUBRULE(inlineData, ast);\n        break;\n    }\n  },\n};\n\n/**\n * [[57]](https://www.w3.org/TR/sparql11-query/#rOptionalGraphPattern)\n */\nexport const optionalGraphPattern: SparqlRule<'optionalGraphPattern', PatternOptional> = <const> {\n  name: 'optionalGraphPattern',\n  impl: ({ ACTION, SUBRULE, CONSUME }) => (C) => {\n    const optional = CONSUME(l.optional);\n    const group = SUBRULE(groupGraphPattern);\n\n    return ACTION(() => C.astFactory.patternOptional(group.patterns, C.astFactory.sourceLocation(optional, group)));\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD }) => (ast, { astFactory: F }) => {\n    F.printFilter(ast, () => PRINT_WORD('OPTIONAL'));\n    SUBRULE(groupGraphPattern, F.patternGroup(ast.patterns, ast.loc));\n  },\n};\n\n/**\n * [[58]](https://www.w3.org/TR/sparql11-query/#rGraphGraphPattern)\n */\nexport const graphGraphPattern: SparqlRule<'graphGraphPattern', PatternGraph> = <const> {\n  name: 'graphGraphPattern',\n  impl: ({ ACTION, SUBRULE, CONSUME }) => (C) => {\n    const graph = CONSUME(l.graph.graph);\n    const name = SUBRULE(varOrIri);\n    const group = SUBRULE(groupGraphPattern);\n\n    return ACTION(() => C.astFactory.patternGraph(name, group.patterns, C.astFactory.sourceLocation(graph, group)));\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD }) => (ast, { astFactory: F }) => {\n    F.printFilter(ast, () => PRINT_WORD('GRAPH'));\n    SUBRULE(varOrTerm, ast.name);\n    SUBRULE(groupGraphPattern, F.patternGroup(ast.patterns, ast.loc));\n  },\n};\n\n/**\n * [[59]](https://www.w3.org/TR/sparql11-query/#rServiceGraphPattern)\n */\nexport const serviceGraphPattern: SparqlRule<'serviceGraphPattern', PatternService> = <const> {\n  name: 'serviceGraphPattern',\n  impl: ({ ACTION, SUBRULE1, CONSUME, OPTION }) => (C) => {\n    const service = CONSUME(l.service);\n    const silent = OPTION(() => {\n      CONSUME(l.silent);\n      return true;\n    }) ?? false;\n    const name = SUBRULE1(varOrIri);\n    const group = SUBRULE1(groupGraphPattern);\n\n    return ACTION(() =>\n      C.astFactory.patternService(name, group.patterns, silent, C.astFactory.sourceLocation(service, group)));\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD }) => (ast, { astFactory: F }) => {\n    F.printFilter(ast, () => {\n      PRINT_WORD('SERVICE');\n      if (ast.silent) {\n        PRINT_WORD('SILENT');\n      }\n    });\n    SUBRULE(varOrTerm, ast.name);\n    SUBRULE(groupGraphPattern, F.patternGroup(ast.patterns, ast.loc));\n  },\n};\n\n/**\n * [[60]](https://www.w3.org/TR/sparql11-query/#rBind)\n */\nexport const bind: SparqlRule<'bind', PatternBind> = <const> {\n  name: 'bind',\n  impl: ({ ACTION, SUBRULE, CONSUME }) => (C) => {\n    const bind = CONSUME(l.bind);\n    CONSUME(l.symbols.LParen);\n    const expressionVal = SUBRULE(expression);\n    CONSUME(l.as);\n    const variable = SUBRULE(var_);\n    const close = CONSUME(l.symbols.RParen);\n\n    return ACTION(() => C.astFactory.patternBind(expressionVal, variable, C.astFactory.sourceLocation(bind, close)));\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD, NEW_LINE }) => (ast, { astFactory: F }) => {\n    F.printFilter(ast, () => PRINT_WORD('BIND', '('));\n    SUBRULE(expression, ast.expression);\n    F.printFilter(ast, () => PRINT_WORD('AS'));\n    SUBRULE(var_, ast.variable);\n    F.printFilter(ast, () => {\n      PRINT_WORD(')');\n      NEW_LINE();\n    });\n  },\n};\n\n/**\n * [[61]](https://www.w3.org/TR/sparql11-query/#rInlineData)\n */\nexport const inlineData: SparqlRule<'inlineData', PatternValues> = <const> {\n  name: 'inlineData',\n  impl: ({ ACTION, SUBRULE, CONSUME }) => (C) => {\n    const values = CONSUME(l.values);\n    const datablock = SUBRULE(dataBlock);\n\n    return ACTION(() => {\n      datablock.loc = C.astFactory.sourceLocation(values, datablock);\n      return datablock;\n    });\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD, PRINT_ON_EMPTY, NEW_LINE, PRINT_ON_OWN_LINE }) => (ast, C) => {\n    const { astFactory: F, indentInc } = C;\n    const variables = ast.variables;\n    const singleVar = variables.length === 1;\n    F.printFilter(ast, () => {\n      PRINT_ON_EMPTY('VALUES', singleVar ? '' : '( ');\n    });\n    for (const variable of variables) {\n      F.printFilter(ast, () => PRINT_WORD(''));\n      SUBRULE(varOrTerm, variable);\n      F.printFilter(ast, () => PRINT_WORD(''));\n    }\n    F.printFilter(ast, () => {\n      C[traqulaIndentation] += indentInc;\n      PRINT_WORD(singleVar ? '' : ')', '{');\n      NEW_LINE();\n    });\n\n    for (const mapping of ast.values) {\n      F.printFilter(ast, () => !singleVar && PRINT_WORD('('));\n      for (const variable of variables) {\n        const var_ = variable.value;\n        if (mapping[var_] === undefined) {\n          F.printFilter(ast, () => PRINT_WORD('UNDEF'));\n        } else {\n          SUBRULE(graphNodePath, mapping[var_]);\n        }\n      }\n      F.printFilter(ast, () => {\n        PRINT_WORD(singleVar ? '' : ')');\n        NEW_LINE();\n      });\n    }\n    F.printFilter(ast, () => {\n      C[traqulaIndentation] -= indentInc;\n      PRINT_ON_OWN_LINE('}');\n    });\n  },\n};\n\n/**\n * [[62]](https://www.w3.org/TR/sparql11-query/#rDataBlock)\n */\nexport const dataBlock: SparqlGrammarRule<'dataBlock', PatternValues> = <const> {\n  name: 'dataBlock',\n  impl: ({ SUBRULE, OR }) => () => OR([\n    { ALT: () => SUBRULE(inlineDataOneVar) },\n    { ALT: () => SUBRULE(inlineDataFull) },\n  ]),\n};\n\n/**\n * [[63]](https://www.w3.org/TR/sparql11-query/#rInlineDataOneVar)\n */\nexport const inlineDataOneVar: SparqlGrammarRule<'inlineDataOneVar', PatternValues> = <const> {\n  name: 'inlineDataOneVar',\n  impl: ({ ACTION, SUBRULE, CONSUME, MANY }) => (C) => {\n    const res: ValuePatternRow[] = [];\n    const varVal = SUBRULE(var_);\n    CONSUME(l.symbols.LCurly);\n    MANY(() => {\n      const value = SUBRULE(dataBlockValue);\n      ACTION(() => {\n        res.push({ [varVal.value]: value });\n      });\n    });\n    const close = CONSUME(l.symbols.RCurly);\n\n    return ACTION(() => C.astFactory.patternValues([ varVal ], res, C.astFactory.sourceLocation(varVal, close)));\n  },\n};\n\n/**\n * [[64]](https://www.w3.org/TR/sparql11-query/#rInlineDataFull)\n */\nexport const inlineDataFull: SparqlGrammarRule<'inlineDataFull', PatternValues> = <const> {\n  name: 'inlineDataFull',\n  impl: ({\n    ACTION,\n    OR,\n    MANY1,\n    MANY2,\n    MANY3,\n    MANY4,\n    SUBRULE,\n    CONSUME1,\n    CONSUME2,\n  }) => (C) => {\n    const res: ValuePatternRow[] = [];\n    const vars: TermVariable[] = [];\n    return OR<RuleDefReturn<typeof inlineDataFull>>([\n      { ALT: () => {\n        // Grammar rule 64 together with note 11 learns us that a nil should be followed by a nil in DataBlock.\n        const nil = CONSUME1(l.terminals.nil);\n        CONSUME1(l.symbols.LCurly);\n        MANY1(() => {\n          CONSUME2(l.terminals.nil);\n          res.push({});\n        });\n        const close = CONSUME1(l.symbols.RCurly);\n\n        return ACTION(() => C.astFactory.patternValues(vars, res, C.astFactory.sourceLocation(nil, close)));\n      } },\n      { ALT: () => {\n        const open = CONSUME1(l.symbols.LParen);\n        MANY2(() => {\n          vars.push(SUBRULE(var_));\n        });\n        CONSUME1(l.symbols.RParen);\n        CONSUME2(l.symbols.LCurly);\n        MANY3(() => {\n          let parsedValues = 0;\n          const currentRow: ValuePatternRow = {};\n          CONSUME2(l.symbols.LParen);\n          MANY4(() => {\n            ACTION(() => {\n              if (!C.skipValidation && parsedValues >= vars.length) {\n                throw new Error('Number of dataBlockValues does not match number of variables. Too much values.');\n              }\n            });\n            const value = SUBRULE(dataBlockValue);\n            ACTION(() => {\n              currentRow[vars[parsedValues].value] = value;\n              parsedValues++;\n            });\n          });\n          CONSUME2(l.symbols.RParen);\n          ACTION(() => {\n            res.push(currentRow);\n            if (!C.skipValidation && vars.length !== parsedValues) {\n              throw new Error('Number of dataBlockValues does not match number of variables. Too few values.');\n            }\n          });\n        });\n        const close = CONSUME2(l.symbols.RCurly);\n        return ACTION(() => C.astFactory.patternValues(vars, res, C.astFactory.sourceLocation(open, close)));\n      } },\n    ]);\n  },\n};\n\n/**\n * [[65]](https://www.w3.org/TR/sparql11-query/#rDataBlockValue)\n */\nexport const dataBlockValue: SparqlGrammarRule<'dataBlockValue', TermIri | TermLiteral | undefined> = {\n  name: 'dataBlockValue',\n  impl: ({ SUBRULE, CONSUME, OR }) => () => OR<RuleDefReturn<typeof dataBlockValue>>([\n    { ALT: () => SUBRULE(iri) },\n    { ALT: () => SUBRULE(rdfLiteral) },\n    { ALT: () => SUBRULE(numericLiteral) },\n    { ALT: () => SUBRULE(booleanLiteral) },\n    { ALT: () => {\n      CONSUME(l.undef);\n      // eslint-disable-next-line unicorn/no-useless-undefined\n      return undefined;\n    } },\n  ]),\n};\n\n/**\n * [[66]](https://www.w3.org/TR/sparql11-query/#rMinusGraphPattern)\n */\nexport const minusGraphPattern: SparqlRule<'minusGraphPattern', PatternMinus> = <const> {\n  name: 'minusGraphPattern',\n  impl: ({ ACTION, SUBRULE, CONSUME }) => (C) => {\n    const minus = CONSUME(l.minus);\n    const group = SUBRULE(groupGraphPattern);\n\n    return ACTION(() => C.astFactory.patternMinus(group.patterns, C.astFactory.sourceLocation(minus, group)));\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD }) => (ast, { astFactory: F }) => {\n    F.printFilter(ast, () => PRINT_WORD('MINUS'));\n    SUBRULE(groupGraphPattern, F.patternGroup(ast.patterns, ast.loc));\n  },\n};\n\n/**\n * [[67]](https://www.w3.org/TR/sparql11-query/#rGroupOrUnionGraphPattern)\n */\nexport const groupOrUnionGraphPattern: SparqlRule<'groupOrUnionGraphPattern', PatternGroup | PatternUnion> =\n  <const> {\n    name: 'groupOrUnionGraphPattern',\n    impl: ({ ACTION, MANY, SUBRULE1, SUBRULE2, CONSUME }) => (C) => {\n      const groups: PatternGroup[] = [];\n\n      const group = SUBRULE1(groupGraphPattern);\n      groups.push(group);\n      MANY(() => {\n        CONSUME(l.union);\n        const group = SUBRULE2(groupGraphPattern);\n        groups.push(group);\n      });\n\n      return ACTION(() => groups.length === 1 ?\n        groups[0] :\n        C.astFactory.patternUnion(\n          groups,\n          C.astFactory.sourceLocation(group, groups.at(-1)),\n        ));\n    },\n    gImpl: ({ SUBRULE, PRINT_WORD }) => (ast, { astFactory: F }) => {\n      if (F.isPatternUnion(ast)) {\n        const [ head, ...tail ] = ast.patterns;\n        SUBRULE(groupGraphPattern, head);\n        for (const pattern of tail) {\n          F.printFilter(ast, () => PRINT_WORD('UNION'));\n          SUBRULE(groupGraphPattern, pattern);\n        }\n      } else {\n        SUBRULE(groupGraphPattern, ast);\n      }\n    },\n  };\n\n/**\n * [[68]](https://www.w3.org/TR/sparql11-query/#rFilter)\n */\nexport const filter: SparqlRule<'filter', PatternFilter> = <const> {\n  name: 'filter',\n  impl: ({ ACTION, SUBRULE, CONSUME }) => (C) => {\n    const filterToken = CONSUME(l.filter);\n    const expression = SUBRULE(constraint);\n\n    return ACTION(() => C.astFactory.patternFilter(expression, C.astFactory.sourceLocation(filterToken, expression)));\n  },\n  gImpl: ({ SUBRULE, PRINT_WORD, NEW_LINE }) => (ast, { astFactory: F }) => {\n    F.printFilter(ast, () => PRINT_WORD('FILTER ('));\n    SUBRULE(expression, ast.expression);\n    F.printFilter(ast, () => {\n      PRINT_WORD(')');\n      NEW_LINE();\n    });\n  },\n};\n\n/**\n * [[69]](https://www.w3.org/TR/sparql11-query/#rConstraint)\n */\nexport const constraint: SparqlGrammarRule<'constraint', Expression> = <const> {\n  name: 'constraint',\n  impl: ({ SUBRULE, OR }) => () => OR([\n    { ALT: () => SUBRULE(brackettedExpression) },\n    { ALT: () => SUBRULE(builtInCall) },\n    { ALT: () => SUBRULE(functionCall) },\n  ]),\n};\n\n/**\n * [[70]](https://www.w3.org/TR/sparql11-query/#rFunctionCall)\n */\nexport const functionCall: SparqlGrammarRule<'functionCall', ExpressionFunctionCall> = <const> {\n  name: 'functionCall',\n  impl: ({ ACTION, SUBRULE }) => (C) => {\n    const func = SUBRULE(iri);\n    const args = SUBRULE(argList);\n    return ACTION(() => C.astFactory.expressionFunctionCall(\n      func,\n      args.val.args,\n      args.val.distinct,\n      C.astFactory.sourceLocation(func, args),\n    ));\n  },\n};\n"]}