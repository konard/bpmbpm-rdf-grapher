import { ParserBuilder } from '@traqula/core';
import { gram, lex as l, MinimalSparqlParser, sparqlCodepointEscape } from '@traqula/rules-sparql-1-1';
import { queryUnitParserBuilder } from './queryUnitParser.js';
import { updateParserBuilder } from './updateUnitParser.js';
export const sparql11ParserBuilder = ParserBuilder.create(queryUnitParserBuilder)
    .merge(updateParserBuilder, [])
    .addRule(gram.queryOrUpdate);
/**
 * Generator that can generate a SPARQL 1.1 AST given a SPARQL 1.1 string.
 */
export class Parser extends MinimalSparqlParser {
    constructor(args = {}) {
        const parser = sparql11ParserBuilder.build({
            ...args,
            tokenVocabulary: l.sparql11LexerBuilder.tokenVocabulary,
            queryPreProcessor: sparqlCodepointEscape,
        });
        super(parser, args.defaultContext);
    }
}
//# sourceMappingURL=Parser.js.map