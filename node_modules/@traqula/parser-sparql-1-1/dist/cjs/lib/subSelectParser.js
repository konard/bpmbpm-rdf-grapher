"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.subSelectParserBuilder = void 0;
const core_1 = require("@traqula/core");
const rules_sparql_1_1_1 = require("@traqula/rules-sparql-1-1");
const expressionParser_js_1 = require("./expressionParser.js");
const triplesBlockParser_js_1 = require("./triplesBlockParser.js");
const rules = [
    rules_sparql_1_1_1.gram.subSelect,
    rules_sparql_1_1_1.gram.selectClause,
    rules_sparql_1_1_1.gram.whereClause,
    rules_sparql_1_1_1.gram.solutionModifier,
    rules_sparql_1_1_1.gram.valuesClause,
];
exports.subSelectParserBuilder = core_1.ParserBuilder.create(rules)
    .merge(expressionParser_js_1.expressionParserBuilder, [])
    .patchRule(rules_sparql_1_1_1.gram.builtInCall)
    .addMany(rules_sparql_1_1_1.gram.existsFunc, rules_sparql_1_1_1.gram.notExistsFunc, rules_sparql_1_1_1.gram.groupGraphPattern, rules_sparql_1_1_1.gram.groupGraphPatternSub)
    .merge(triplesBlockParser_js_1.triplesBlockParserBuilder, [])
    .addMany(rules_sparql_1_1_1.gram.graphPatternNotTriples, rules_sparql_1_1_1.gram.groupOrUnionGraphPattern, rules_sparql_1_1_1.gram.optionalGraphPattern, rules_sparql_1_1_1.gram.minusGraphPattern, rules_sparql_1_1_1.gram.graphGraphPattern, rules_sparql_1_1_1.gram.serviceGraphPattern, rules_sparql_1_1_1.gram.filter, rules_sparql_1_1_1.gram.bind, rules_sparql_1_1_1.gram.inlineData, rules_sparql_1_1_1.gram.constraint, rules_sparql_1_1_1.gram.functionCall, rules_sparql_1_1_1.gram.dataBlock, rules_sparql_1_1_1.gram.inlineDataOneVar, rules_sparql_1_1_1.gram.inlineDataFull, rules_sparql_1_1_1.gram.dataBlockValue, 
// Solution modifier
rules_sparql_1_1_1.gram.groupClause, rules_sparql_1_1_1.gram.havingClause, rules_sparql_1_1_1.gram.orderClause, rules_sparql_1_1_1.gram.limitOffsetClauses, rules_sparql_1_1_1.gram.groupCondition, rules_sparql_1_1_1.gram.havingCondition, rules_sparql_1_1_1.gram.orderCondition, rules_sparql_1_1_1.gram.limitClause, rules_sparql_1_1_1.gram.offsetClause);
//# sourceMappingURL=subSelectParser.js.map