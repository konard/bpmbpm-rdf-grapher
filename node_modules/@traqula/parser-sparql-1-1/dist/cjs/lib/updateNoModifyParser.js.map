{"version":3,"file":"updateNoModifyParser.js","sourceRoot":"","sources":["../../../lib/updateNoModifyParser.ts"],"names":[],"mappings":";;;AAAA,wCAA8C;AAE9C,gEAAiD;AACjD,uFAAiF;AAEjF,MAAM,YAAY,GAAwB;IACxC,IAAI,EAAE,SAAS;IACf,IAAI,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAkB;QACnD,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,IAAI,CAAC,EAAE;QACjC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,KAAK,CAAC,EAAE;QAClC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,IAAI,CAAC,EAAE;QACjC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,GAAG,CAAC,EAAE;QAChC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,IAAI,CAAC,EAAE;QACjC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,IAAI,CAAC,EAAE;QACjC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,MAAM,CAAC,EAAE;QACnC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,UAAU,CAAC,EAAE;QACvC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,UAAU,CAAC,EAAE;QACvC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAI,CAAC,WAAW,CAAC,EAAE;KACzC,CAAC;IACF,KAAK,EAAE,uBAAI,CAAC,OAAO,CAAC,KAAK;CAC1B,CAAC;AAEF,MAAM,cAAc,GAAU;IAC5B,uBAAI,CAAC,UAAU;IACf,uBAAI,CAAC,MAAM;IACX,uBAAI,CAAC,QAAQ;IACb,WAAW;IACX,uBAAI,CAAC,QAAQ;IACb,uBAAI,CAAC,UAAU;IACf,uBAAI,CAAC,IAAI;IACT,uBAAI,CAAC,KAAK;IACV,uBAAI,CAAC,IAAI;IACT,uBAAI,CAAC,GAAG;IACR,uBAAI,CAAC,IAAI;IACT,uBAAI,CAAC,IAAI;IACT,uBAAI,CAAC,MAAM;IACX,uBAAI,CAAC,UAAU;IACf,uBAAI,CAAC,UAAU;IACf,uBAAI,CAAC,WAAW;IAChB,uBAAI,CAAC,GAAG;IACR,uBAAI,CAAC,YAAY;IACjB,uBAAI,CAAC,QAAQ;IACb,uBAAI,CAAC,WAAW;IAChB,uBAAI,CAAC,cAAc;IACnB,uBAAI,CAAC,QAAQ;IACb,uBAAI,CAAC,KAAK;CACX,CAAC;AAEF;;;GAGG;AACU,QAAA,2BAA2B,GAAG,oBAAa;KACrD,MAAM,CAAC,cAAc,CAAC;KACtB,OAAO,CAAC,YAAY,CAAC;KACrB,KAAK,CAAC,8DAA4B,EAAU,EAAE,CAAC;KAC/C,OAAO,CAAC,uBAAI,CAAC,WAAW,CAAC;KACzB,OAAO,CAAC,uBAAI,CAAC,eAAe,CAAC,CAAC","sourcesContent":["import { ParserBuilder } from '@traqula/core';\nimport type { UpdateOperation } from '@traqula/rules-sparql-1-1';\nimport { gram } from '@traqula/rules-sparql-1-1';\nimport { triplesTemplateParserBuilder } from './triplesTemplateParserBuilder.js';\n\nconst update1Patch: typeof gram.update1 = {\n  name: 'update1',\n  impl: ({ SUBRULE, OR }) => () => OR<UpdateOperation>([\n    { ALT: () => SUBRULE(gram.load) },\n    { ALT: () => SUBRULE(gram.clear) },\n    { ALT: () => SUBRULE(gram.drop) },\n    { ALT: () => SUBRULE(gram.add) },\n    { ALT: () => SUBRULE(gram.move) },\n    { ALT: () => SUBRULE(gram.copy) },\n    { ALT: () => SUBRULE(gram.create) },\n    { ALT: () => SUBRULE(gram.insertData) },\n    { ALT: () => SUBRULE(gram.deleteData) },\n    { ALT: () => SUBRULE(gram.deleteWhere) },\n  ]),\n  gImpl: gram.update1.gImpl,\n};\n\nconst rulesNoUpdate1 = <const>[\n  gram.updateUnit,\n  gram.update,\n  gram.prologue,\n  // Update1,\n  gram.baseDecl,\n  gram.prefixDecl,\n  gram.load,\n  gram.clear,\n  gram.drop,\n  gram.add,\n  gram.move,\n  gram.copy,\n  gram.create,\n  gram.insertData,\n  gram.deleteData,\n  gram.deleteWhere,\n  gram.iri,\n  gram.prefixedName,\n  gram.graphRef,\n  gram.graphRefAll,\n  gram.graphOrDefault,\n  gram.quadData,\n  gram.quads,\n];\n\n/**\n * Simple SPARQL 1.1 Update parser excluding MODIFY operations.\n * Top enable MODIFY, you need to path the update1 rule.\n */\nexport const updateNoModifyParserBuilder = ParserBuilder\n  .create(rulesNoUpdate1)\n  .addRule(update1Patch)\n  .merge(triplesTemplateParserBuilder, <const> [])\n  .addRule(gram.quadPattern)\n  .addRule(gram.quadsNotTriples);\n\nexport type updateNoModifyParser = ReturnType<typeof updateNoModifyParserBuilder.build>;\n"]}