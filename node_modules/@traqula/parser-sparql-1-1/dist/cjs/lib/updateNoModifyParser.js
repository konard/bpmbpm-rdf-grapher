"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateNoModifyParserBuilder = void 0;
const core_1 = require("@traqula/core");
const rules_sparql_1_1_1 = require("@traqula/rules-sparql-1-1");
const triplesTemplateParserBuilder_js_1 = require("./triplesTemplateParserBuilder.js");
const update1Patch = {
    name: 'update1',
    impl: ({ SUBRULE, OR }) => () => OR([
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.load) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.clear) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.drop) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.add) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.move) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.copy) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.create) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.insertData) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.deleteData) },
        { ALT: () => SUBRULE(rules_sparql_1_1_1.gram.deleteWhere) },
    ]),
    gImpl: rules_sparql_1_1_1.gram.update1.gImpl,
};
const rulesNoUpdate1 = [
    rules_sparql_1_1_1.gram.updateUnit,
    rules_sparql_1_1_1.gram.update,
    rules_sparql_1_1_1.gram.prologue,
    // Update1,
    rules_sparql_1_1_1.gram.baseDecl,
    rules_sparql_1_1_1.gram.prefixDecl,
    rules_sparql_1_1_1.gram.load,
    rules_sparql_1_1_1.gram.clear,
    rules_sparql_1_1_1.gram.drop,
    rules_sparql_1_1_1.gram.add,
    rules_sparql_1_1_1.gram.move,
    rules_sparql_1_1_1.gram.copy,
    rules_sparql_1_1_1.gram.create,
    rules_sparql_1_1_1.gram.insertData,
    rules_sparql_1_1_1.gram.deleteData,
    rules_sparql_1_1_1.gram.deleteWhere,
    rules_sparql_1_1_1.gram.iri,
    rules_sparql_1_1_1.gram.prefixedName,
    rules_sparql_1_1_1.gram.graphRef,
    rules_sparql_1_1_1.gram.graphRefAll,
    rules_sparql_1_1_1.gram.graphOrDefault,
    rules_sparql_1_1_1.gram.quadData,
    rules_sparql_1_1_1.gram.quads,
];
/**
 * Simple SPARQL 1.1 Update parser excluding MODIFY operations.
 * Top enable MODIFY, you need to path the update1 rule.
 */
exports.updateNoModifyParserBuilder = core_1.ParserBuilder
    .create(rulesNoUpdate1)
    .addRule(update1Patch)
    .merge(triplesTemplateParserBuilder_js_1.triplesTemplateParserBuilder, [])
    .addRule(rules_sparql_1_1_1.gram.quadPattern)
    .addRule(rules_sparql_1_1_1.gram.quadsNotTriples);
//# sourceMappingURL=updateNoModifyParser.js.map