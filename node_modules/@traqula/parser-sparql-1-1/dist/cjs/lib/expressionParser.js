"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.expressionParserBuilder = void 0;
const core_1 = require("@traqula/core");
const rules_sparql_1_1_1 = require("@traqula/rules-sparql-1-1");
const rulesNoBuiltIn = [
    rules_sparql_1_1_1.gram.expression,
    rules_sparql_1_1_1.gram.conditionalOrExpression,
    rules_sparql_1_1_1.gram.conditionalAndExpression,
    rules_sparql_1_1_1.gram.valueLogical,
    rules_sparql_1_1_1.gram.relationalExpression,
    rules_sparql_1_1_1.gram.numericExpression,
    rules_sparql_1_1_1.gram.expressionList,
    rules_sparql_1_1_1.gram.additiveExpression,
    rules_sparql_1_1_1.gram.multiplicativeExpression,
    rules_sparql_1_1_1.gram.unaryExpression,
    rules_sparql_1_1_1.gram.primaryExpression,
    rules_sparql_1_1_1.gram.brackettedExpression,
    // BuiltInCall,
    rules_sparql_1_1_1.gram.iriOrFunction,
    rules_sparql_1_1_1.gram.rdfLiteral,
    rules_sparql_1_1_1.gram.numericLiteral,
    rules_sparql_1_1_1.gram.numericLiteralUnsigned,
    rules_sparql_1_1_1.gram.numericLiteralPositive,
    rules_sparql_1_1_1.gram.numericLiteralNegative,
    rules_sparql_1_1_1.gram.booleanLiteral,
    rules_sparql_1_1_1.gram.var_,
    rules_sparql_1_1_1.gram.builtInStr,
    rules_sparql_1_1_1.gram.builtInLang,
    rules_sparql_1_1_1.gram.builtInLangmatches,
    rules_sparql_1_1_1.gram.builtInDatatype,
    rules_sparql_1_1_1.gram.builtInBound,
    rules_sparql_1_1_1.gram.builtInIri,
    rules_sparql_1_1_1.gram.builtInUri,
    rules_sparql_1_1_1.gram.builtInBnodeSparqlJs,
    rules_sparql_1_1_1.gram.builtInRand,
    rules_sparql_1_1_1.gram.builtInAbs,
    rules_sparql_1_1_1.gram.builtInCeil,
    rules_sparql_1_1_1.gram.builtInFloor,
    rules_sparql_1_1_1.gram.builtInRound,
    rules_sparql_1_1_1.gram.builtInConcat,
    rules_sparql_1_1_1.gram.builtInStrlen,
    rules_sparql_1_1_1.gram.builtInUcase,
    rules_sparql_1_1_1.gram.builtInLcase,
    rules_sparql_1_1_1.gram.builtInEncode_for_uri,
];
const builtInPatch = {
    name: 'builtInCall',
    impl: ({ OR, SUBRULE }) => () => OR(rules_sparql_1_1_1.gram.builtInCallList(SUBRULE).slice(0, -2)),
};
exports.expressionParserBuilder = core_1.ParserBuilder.create(rulesNoBuiltIn)
    .addMany(rules_sparql_1_1_1.gram.builtInContains, rules_sparql_1_1_1.gram.builtInStrstarts, rules_sparql_1_1_1.gram.builtInStrends, rules_sparql_1_1_1.gram.builtInStrbefore, rules_sparql_1_1_1.gram.builtInStrafter, rules_sparql_1_1_1.gram.builtInYear, rules_sparql_1_1_1.gram.builtInMonth, rules_sparql_1_1_1.gram.builtInDay, rules_sparql_1_1_1.gram.builtInHours, rules_sparql_1_1_1.gram.builtInMinutes, rules_sparql_1_1_1.gram.builtInSeconds, rules_sparql_1_1_1.gram.builtInTimezone, rules_sparql_1_1_1.gram.builtInTz, rules_sparql_1_1_1.gram.builtInNow, rules_sparql_1_1_1.gram.builtInUuid, rules_sparql_1_1_1.gram.builtInStruuid, rules_sparql_1_1_1.gram.builtInMd5, rules_sparql_1_1_1.gram.builtInSha1, rules_sparql_1_1_1.gram.builtInSha256, rules_sparql_1_1_1.gram.builtInSha384, rules_sparql_1_1_1.gram.builtInSha512, rules_sparql_1_1_1.gram.builtInCoalesce, rules_sparql_1_1_1.gram.builtInIf, rules_sparql_1_1_1.gram.builtInStrlang, rules_sparql_1_1_1.gram.builtInStrdt, rules_sparql_1_1_1.gram.builtInSameterm, rules_sparql_1_1_1.gram.builtInIsiri, rules_sparql_1_1_1.gram.builtInIsuri, rules_sparql_1_1_1.gram.builtInIsblank, rules_sparql_1_1_1.gram.builtInIsliteral, rules_sparql_1_1_1.gram.builtInIsnumeric, rules_sparql_1_1_1.gram.regexExpression, rules_sparql_1_1_1.gram.substringExpression, rules_sparql_1_1_1.gram.strReplaceExpression, rules_sparql_1_1_1.gram.aggregateCount, rules_sparql_1_1_1.gram.aggregateSum, rules_sparql_1_1_1.gram.aggregateMin, rules_sparql_1_1_1.gram.aggregateMax, rules_sparql_1_1_1.gram.aggregateAvg, rules_sparql_1_1_1.gram.aggregateSample, rules_sparql_1_1_1.gram.aggregateGroup_concat, rules_sparql_1_1_1.gram.aggregate, rules_sparql_1_1_1.gram.iri, rules_sparql_1_1_1.gram.prefixedName, rules_sparql_1_1_1.gram.argList, rules_sparql_1_1_1.gram.string)
    .addRule(builtInPatch);
//# sourceMappingURL=expressionParser.js.map