{"version":3,"file":"expressionParser.js","sourceRoot":"","sources":["../../../lib/expressionParser.ts"],"names":[],"mappings":"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","sourcesContent":["import { ParserBuilder } from '@traqula/core';\nimport { gram } from '@traqula/rules-sparql-1-1';\n\nconst rulesNoBuiltIn = <const> [\n  gram.expression,\n  gram.conditionalOrExpression,\n  gram.conditionalAndExpression,\n  gram.valueLogical,\n  gram.relationalExpression,\n  gram.numericExpression,\n  gram.expressionList,\n  gram.additiveExpression,\n  gram.multiplicativeExpression,\n  gram.unaryExpression,\n  gram.primaryExpression,\n  gram.brackettedExpression,\n  // BuiltInCall,\n  gram.iriOrFunction,\n  gram.rdfLiteral,\n  gram.numericLiteral,\n  gram.numericLiteralUnsigned,\n  gram.numericLiteralPositive,\n  gram.numericLiteralNegative,\n  gram.booleanLiteral,\n  gram.var_,\n  gram.builtInStr,\n  gram.builtInLang,\n  gram.builtInLangmatches,\n  gram.builtInDatatype,\n  gram.builtInBound,\n  gram.builtInIri,\n  gram.builtInUri,\n  gram.builtInBnodeSparqlJs,\n  gram.builtInRand,\n  gram.builtInAbs,\n  gram.builtInCeil,\n  gram.builtInFloor,\n  gram.builtInRound,\n  gram.builtInConcat,\n  gram.builtInStrlen,\n  gram.builtInUcase,\n  gram.builtInLcase,\n  gram.builtInEncode_for_uri,\n];\n\nconst builtInPatch: typeof gram.builtInCall = {\n  name: 'builtInCall',\n  impl: ({ OR, SUBRULE }) => () => OR(gram.builtInCallList(SUBRULE).slice(0, -2)),\n};\n\nexport const expressionParserBuilder = ParserBuilder.create(rulesNoBuiltIn)\n  .addMany(\n    gram.builtInContains,\n    gram.builtInStrstarts,\n    gram.builtInStrends,\n    gram.builtInStrbefore,\n    gram.builtInStrafter,\n    gram.builtInYear,\n    gram.builtInMonth,\n    gram.builtInDay,\n    gram.builtInHours,\n    gram.builtInMinutes,\n    gram.builtInSeconds,\n    gram.builtInTimezone,\n    gram.builtInTz,\n    gram.builtInNow,\n    gram.builtInUuid,\n    gram.builtInStruuid,\n    gram.builtInMd5,\n    gram.builtInSha1,\n    gram.builtInSha256,\n    gram.builtInSha384,\n    gram.builtInSha512,\n    gram.builtInCoalesce,\n    gram.builtInIf,\n    gram.builtInStrlang,\n    gram.builtInStrdt,\n    gram.builtInSameterm,\n    gram.builtInIsiri,\n    gram.builtInIsuri,\n    gram.builtInIsblank,\n    gram.builtInIsliteral,\n    gram.builtInIsnumeric,\n    gram.regexExpression,\n    gram.substringExpression,\n    gram.strReplaceExpression,\n    gram.aggregateCount,\n    gram.aggregateSum,\n    gram.aggregateMin,\n    gram.aggregateMax,\n    gram.aggregateAvg,\n    gram.aggregateSample,\n    gram.aggregateGroup_concat,\n    gram.aggregate,\n    gram.iri,\n    gram.prefixedName,\n    gram.argList,\n    gram.string,\n  )\n  .addRule(builtInPatch);\n\nexport type ExpressionParser = ReturnType<typeof expressionParserBuilder.build>;\n"]}