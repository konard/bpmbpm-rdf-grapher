"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Parser = exports.sparql11ParserBuilder = void 0;
const core_1 = require("@traqula/core");
const rules_sparql_1_1_1 = require("@traqula/rules-sparql-1-1");
const queryUnitParser_js_1 = require("./queryUnitParser.js");
const updateUnitParser_js_1 = require("./updateUnitParser.js");
exports.sparql11ParserBuilder = core_1.ParserBuilder.create(queryUnitParser_js_1.queryUnitParserBuilder)
    .merge(updateUnitParser_js_1.updateParserBuilder, [])
    .addRule(rules_sparql_1_1_1.gram.queryOrUpdate);
/**
 * Generator that can generate a SPARQL 1.1 AST given a SPARQL 1.1 string.
 */
class Parser extends rules_sparql_1_1_1.MinimalSparqlParser {
    constructor(args = {}) {
        const parser = exports.sparql11ParserBuilder.build({
            ...args,
            tokenVocabulary: rules_sparql_1_1_1.lex.sparql11LexerBuilder.tokenVocabulary,
            queryPreProcessor: rules_sparql_1_1_1.sparqlCodepointEscape,
        });
        super(parser, args.defaultContext);
    }
}
exports.Parser = Parser;
//# sourceMappingURL=Parser.js.map