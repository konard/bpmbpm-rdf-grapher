{"version":3,"file":"toAst12.js","sourceRoot":"","sources":["../../../lib/toAst12.ts"],"names":[],"mappings":";;;AAmBA,sBAIC;AAvBD,oEAA6D;AAG7D,sFAA4F;AAC5F,wCAA6C;AAGhC,QAAA,cAAc,GAAG,mBAAY;KACvC,MAAM,CAAC,mCAAc,CAAC;KACtB,YAAY,EAAc;KAC1B,SAAS,CAAC,gDAAkB,CAAC;KAC7B,SAAS,EAEN,CAAC;AAEP;;;GAGG;AACH,SAAgB,KAAK,CAAC,EAAqB;IACzC,MAAM,CAAC,GAAG,IAAA,8CAAgB,GAAE,CAAC;IAC7B,MAAM,WAAW,GAAG,sBAAc,CAAC,KAAK,EAAE,CAAC;IAC3C,OAAO,WAAW,CAAC,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACxC,CAAC","sourcesContent":["import { toAst11Builder } from '@traqula/algebra-sparql-1-1';\nimport type { Algebra, algToSparql } from '@traqula/algebra-transformations-1-1';\nimport type { AstContext } from '@traqula/algebra-transformations-1-2';\nimport { createAstContext, translateAlgTerm12 } from '@traqula/algebra-transformations-1-2';\nimport { IndirBuilder } from '@traqula/core';\nimport type { SparqlQuery } from '@traqula/rules-sparql-1-2';\n\nexport const toAst12Builder = IndirBuilder\n  .create(toAst11Builder)\n  .widenContext<AstContext>()\n  .patchRule(translateAlgTerm12)\n  .typePatch<{\n    [algToSparql.name]: [SparqlQuery, [Algebra.Operation]];\n  }>();\n\n/**\n * Transform an operation to a Traqula SPARQL 1.2 AST.\n * @param op\n */\nexport function toAst(op: Algebra.Operation): SparqlQuery {\n  const c = createAstContext();\n  const transformer = toAst12Builder.build();\n  return transformer.algToSparql(c, op);\n}\n"]}