{"version":3,"file":"ActorInitQueryBase.js","sourceRoot":"","sources":["ActorInitQueryBase.ts"],"names":[],"mappings":";;;AAEA,iDAA+C;AAQ/C,yCAA8C;AAE9C;;GAEG;AACH,MAAa,kBAAmB,SAAQ,oBAAS;IAC/B,4BAA4B,CAAqC;IACjE,6CAA6C,CAAyC;IACtF,mDAAmD,CAA+C;IAClG,sBAAsB,CAAyB;IAC/C,oBAAoB,CAAuB;IAE3C,WAAW,CAAU;IACrB,uBAAuB,CAAU;IACjC,cAAc,CAAW;IACzB,OAAO,CAAU;IAEjC,YAAmB,IAA6B;QAC9C,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC,4BAA4B,CAAC;QACtE,IAAI,CAAC,6CAA6C,GAAG,IAAI,CAAC,6CAA6C,CAAC;QACxG,IAAI,CAAC,mDAAmD,GAAG,IAAI,CAAC,mDAAmD,CAAC;QACpH,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;QAC1D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,CAAC;QACtD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACpC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC;QAC5D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAC1C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC9B,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,OAAoB;QACpC,OAAO,IAAA,mBAAY,GAAE,CAAC;IACxB,CAAC;IAEM,KAAK,CAAC,GAAG,CAAC,OAAoB;QACnC,MAAM,IAAI,KAAK,CAAC,sDAAsD,CAAC,CAAC;IAC1E,CAAC;CACF;AAhCD,gDAgCC","sourcesContent":["import type { MediatorHttpInvalidate } from '@comunica/bus-http-invalidate';\nimport type { IActionInit, IActorInitArgs, IActorOutputInit } from '@comunica/bus-init';\nimport { ActorInit } from '@comunica/bus-init';\nimport type { MediatorQueryProcess } from '@comunica/bus-query-process';\nimport type {\n  MediatorQueryResultSerializeHandle,\n  MediatorQueryResultSerializeMediaTypes,\n  MediatorQueryResultSerializeMediaTypeFormats,\n} from '@comunica/bus-query-result-serialize';\nimport type { IActorTest, TestResult } from '@comunica/core';\nimport { passTestVoid } from '@comunica/core';\n\n/**\n * A browser-safe comunica Query Init Actor.\n */\nexport class ActorInitQueryBase extends ActorInit implements IActorInitQueryBaseArgs {\n  public readonly mediatorQueryResultSerialize: MediatorQueryResultSerializeHandle;\n  public readonly mediatorQueryResultSerializeMediaTypeCombiner: MediatorQueryResultSerializeMediaTypes;\n  public readonly mediatorQueryResultSerializeMediaTypeFormatCombiner: MediatorQueryResultSerializeMediaTypeFormats;\n  public readonly mediatorHttpInvalidate: MediatorHttpInvalidate;\n  public readonly mediatorQueryProcess: MediatorQueryProcess;\n\n  public readonly queryString?: string;\n  public readonly defaultQueryInputFormat?: string;\n  public readonly allowNoSources?: boolean;\n  public readonly context?: string;\n\n  public constructor(args: IActorInitQueryBaseArgs) {\n    super(args);\n    this.mediatorQueryResultSerialize = args.mediatorQueryResultSerialize;\n    this.mediatorQueryResultSerializeMediaTypeCombiner = args.mediatorQueryResultSerializeMediaTypeCombiner;\n    this.mediatorQueryResultSerializeMediaTypeFormatCombiner = args.mediatorQueryResultSerializeMediaTypeFormatCombiner;\n    this.mediatorHttpInvalidate = args.mediatorHttpInvalidate;\n    this.mediatorQueryProcess = args.mediatorQueryProcess;\n    this.queryString = args.queryString;\n    this.defaultQueryInputFormat = args.defaultQueryInputFormat;\n    this.allowNoSources = args.allowNoSources;\n    this.context = args.context;\n  }\n\n  public async test(_action: IActionInit): Promise<TestResult<IActorTest>> {\n    return passTestVoid();\n  }\n\n  public async run(_action: IActionInit): Promise<IActorOutputInit> {\n    throw new Error('ActorInitSparql#run is not supported in the browser.');\n  }\n}\n\nexport interface IActorInitQueryBaseArgs extends IActorInitArgs {\n  /**\n   * The query process mediator\n   */\n  mediatorQueryProcess: MediatorQueryProcess;\n  /**\n   * The query serialize mediator\n   */\n  mediatorQueryResultSerialize: MediatorQueryResultSerializeHandle;\n  /**\n   * The query serialize media type combinator\n   */\n  mediatorQueryResultSerializeMediaTypeCombiner: MediatorQueryResultSerializeMediaTypes;\n  /**\n   * The query serialize media type format combinator\n   */\n  mediatorQueryResultSerializeMediaTypeFormatCombiner: MediatorQueryResultSerializeMediaTypeFormats;\n  /**\n   * The HTTP cache invalidation mediator\n   */\n  mediatorHttpInvalidate: MediatorHttpInvalidate;\n\n  /**\n   * A SPARQL query string\n   */\n  queryString?: string;\n  /**\n   * The default query input format\n   * @default {sparql}\n   */\n  defaultQueryInputFormat?: string;\n  /**\n   * If it should be allowed that the user passes no sources.\n   * @default {false}\n   */\n  allowNoSources?: boolean;\n  /**\n   * A JSON string of a query operation context\n   */\n  context?: string;\n}\n"]}