{"version":3,"file":"ActorQueryOperationPathLink.js","sourceRoot":"","sources":["ActorQueryOperationPathLink.ts"],"names":[],"mappings":";;;AAAA,uEAAkE;AAElE,+DAA0D;AAE1D,2DAAkE;AAElE;;GAEG;AACH,MAAa,2BAA4B,SAAQ,uCAAiB;IAChE,YAAmB,IAA2C;QAC5D,KAAK,CAAC,IAAI,EAAE,uBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAEM,KAAK,CAAC,YAAY,CACvB,iBAA+B,EAC/B,OAAuB;QAEvB,MAAM,WAAW,GAAwB,OAAO,CAAC,OAAO,CAAC,+BAAa,CAAC,WAAW,CAAC,CAAC;QACpF,MAAM,cAAc,GAAG,IAAI,8BAAc,CAAC,WAAW,CAAC,CAAC;QAEvD,MAAM,SAAS,GAAkB,iBAAiB,CAAC,SAAS,CAAC;QAC7D,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,aAAa,CAC1D,iBAAiB,CAAC,OAAO,EACzB,SAAS,CAAC,GAAG,EACb,iBAAiB,CAAC,MAAM,EACxB,iBAAiB,CAAC,KAAK,CACxB,EAAE,EAAE,QAAQ,EAAE,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;QACrC,OAAO,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;IACrE,CAAC;CACF;AArBD,kEAqBC","sourcesContent":["import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { KeysInitQuery } from '@comunica/context-entries';\nimport type { ComunicaDataFactory, IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { Algebra, AlgebraFactory } from '@comunica/utils-algebra';\n\n/**\n * A comunica Path Link Query Operation Actor.\n */\nexport class ActorQueryOperationPathLink extends ActorAbstractPath {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, Algebra.Types.LINK);\n  }\n\n  public async runOperation(\n    operationOriginal: Algebra.Path,\n    context: IActionContext,\n  ): Promise<IQueryOperationResult> {\n    const dataFactory: ComunicaDataFactory = context.getSafe(KeysInitQuery.dataFactory);\n    const algebraFactory = new AlgebraFactory(dataFactory);\n\n    const predicate = <Algebra.Link> operationOriginal.predicate;\n    const operation = Object.assign(algebraFactory.createPattern(\n      operationOriginal.subject,\n      predicate.iri,\n      operationOriginal.object,\n      operationOriginal.graph,\n    ), { metadata: predicate.metadata });\n    return this.mediatorQueryOperation.mediate({ operation, context });\n  }\n}\n"]}