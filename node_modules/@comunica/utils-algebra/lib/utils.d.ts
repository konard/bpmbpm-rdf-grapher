import type { Algebra as TraqulaAlgebra } from '@traqula/algebra-transformations-1-2';
import { algebraUtils } from '@traqula/algebra-transformations-1-2';
import type { TransformContext, VisitContext } from '@traqula/core';
import { TransformerSubTyped } from '@traqula/core';
import type { KnownOperation, Operation } from './Algebra';
export declare const resolveIRI: typeof algebraUtils.resolveIRI;
export declare const objectify: typeof algebraUtils.objectify;
/**
 * Type guard that checks if an operation is of a certain type and subType known by Comunica.
 * In case the type and subtype matches one known by Comunica,
 * the type guard will conclude the operation contains all member Comunica expects from this operation-type and subtype.
 * @param val the operation that should be type checked
 * @param type the type we want to test against
 * @param subType the potential subtype we want to test against
 *     - when provided and not matching, we do not fall back to just checking the type.
 * @return a boolean indicating whether the type and subtype are equal to the expected type and subtype.
 * Only checking the subtype when a string is provided.
 */
export declare function isKnownOperation<Type extends KnownOperation['type'], SubType extends Extract<KnownOperation, {
    type: Type;
}>['subType'] | undefined = undefined>(val: Operation, type: Type, subType?: SubType): val is SubType extends undefined ? (Extract<KnownOperation, {
    type: Type;
}> extends object ? Extract<KnownOperation, {
    type: Type;
}> : {
    type: Type;
}) : Extract<KnownOperation, {
    type: Type;
    subType: SubType;
}> extends object ? Extract<KnownOperation, {
    type: Type;
    subType: SubType;
}> : {
    type: Type;
    subType: SubType;
};
/**
 * Type guard that checks if an operation is of a certain subType known by Comunica.
 * In case the subtype matches one known by Comunica,
 * the type guard will conclude the operation contains all member Comunica expects from this operation-subtype
 * @param val the operation that should be type checked
 * @param subType the subType we want to test against
 * @return a boolean indicating whether the subType equals the expected subType
 */
export declare function isKnownSubType<SubType extends KnownOperation['subType'], Obj extends Operation>(val: Obj, subType: SubType): val is Extract<KnownOperation, {
    type: Obj['type'];
    subType: SubType;
}> extends object ? Obj & Extract<KnownOperation, {
    type: Obj['type'];
    subType: SubType;
}> : Obj & {
    subType: SubType;
};
export declare const transformer: TransformerSubTyped<KnownOperation>;
/**
 * Transform a single operation, similar to {@link mapOperation}, but using stricter typings.
 * e.g. wrapping a distinct around the outermost project:
 * ```ts
 * mapOperationStrict<'unsafe', Operation>({
 *   type: Algebra.Types.SLICE,
 *   input: {
 *     type: Algebra.Types.PROJECT,
 *     input: {
 *       type: Algebra.Types.JOIN,
 *       input: [{ type: Algebra.Types.PROJECT }, { type: Algebra.Types.BGP }],
 *     },
 *   },
 * }, {
 *   [Algebra.Types.PROJECT]: {
 *     preVisitor: () => ({ continue: false }),
 *     transform: projection => algebraFactory.createDistinct(projection),
 *   },
 * });
 * const returns = {
 *   type: Algebra.Types.SLICE,
 *   input: {
 *     type: Algebra.Types.DISTINCT,
 *     input: {
 *       type: Algebra.Types.PROJECT,
 *       input: {
 *         type: Algebra.Types.JOIN,
 *         input: [{ type: Algebra.Types.PROJECT }, { type: Algebra.Types.BGP }],
 *       },
 *     },
 *   },
 * };
 * ```
 * @param startObject the object from which we will start the transformation,
 *   potentially visiting and transforming its descendants along the way.
 * @param nodeCallBacks a dictionary mapping the various operation types to objects optionally
 *    containing preVisitor and transformer.
 *    The preVisitor allows you to provide {@link TransformContext} for the current object,
 *    altering how it will be transformed.
 *    The transformer allows you to manipulate the copy of the current object,
 *    and expects you to return the value that should take the current objects place.
 * @return the result of transforming the requested descendant operations (based on the preVisitor)
 * using a transformer that works its way back up from the descendant to the startObject.
 */
export declare const mapOperationStrict: <Safe extends import("@traqula/core").Safeness = "safe", OutType = unknown>(startObject: object, nodeCallBacks: {
    ask?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Ask>, orig: import("./Algebra").Ask) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Ask) => TransformContext) | undefined;
    } | undefined;
    bgp?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Bgp>, orig: import("./Algebra").Bgp) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Bgp) => TransformContext) | undefined;
    } | undefined;
    construct?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Construct>, orig: import("./Algebra").Construct) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Construct) => TransformContext) | undefined;
    } | undefined;
    describe?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Describe>, orig: import("./Algebra").Describe) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Describe) => TransformContext) | undefined;
    } | undefined;
    distinct?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Distinct>, orig: import("./Algebra").Distinct) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Distinct) => TransformContext) | undefined;
    } | undefined;
    expression?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").KnownExpression>, orig: import("./Algebra").KnownExpression) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").KnownExpression) => TransformContext) | undefined;
    } | undefined;
    extend?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Extend>, orig: import("./Algebra").Extend) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Extend) => TransformContext) | undefined;
    } | undefined;
    filter?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Filter>, orig: import("./Algebra").Filter) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Filter) => TransformContext) | undefined;
    } | undefined;
    from?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").From>, orig: import("./Algebra").From) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").From) => TransformContext) | undefined;
    } | undefined;
    graph?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Graph>, orig: import("./Algebra").Graph) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Graph) => TransformContext) | undefined;
    } | undefined;
    group?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>>, orig: import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>) => unknown) | undefined;
        preVisitor?: ((orig: import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>) => TransformContext) | undefined;
    } | undefined;
    join?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Join>, orig: import("./Algebra").Join) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Join) => TransformContext) | undefined;
    } | undefined;
    leftjoin?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").LeftJoin>, orig: import("./Algebra").LeftJoin) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").LeftJoin) => TransformContext) | undefined;
    } | undefined;
    minus?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Minus>, orig: import("./Algebra").Minus) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Minus) => TransformContext) | undefined;
    } | undefined;
    nop?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Nop>, orig: import("./Algebra").Nop) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Nop) => TransformContext) | undefined;
    } | undefined;
    orderby?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").OrderBy>, orig: import("./Algebra").OrderBy) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").OrderBy) => TransformContext) | undefined;
    } | undefined;
    pattern?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Pattern>, orig: import("./Algebra").Pattern) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Pattern) => TransformContext) | undefined;
    } | undefined;
    project?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Project>, orig: import("./Algebra").Project) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Project) => TransformContext) | undefined;
    } | undefined;
    reduced?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Reduced>, orig: import("./Algebra").Reduced) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Reduced) => TransformContext) | undefined;
    } | undefined;
    service?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Service>, orig: import("./Algebra").Service) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Service) => TransformContext) | undefined;
    } | undefined;
    slice?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Slice>, orig: import("./Algebra").Slice) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Slice) => TransformContext) | undefined;
    } | undefined;
    union?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Union>, orig: import("./Algebra").Union) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Union) => TransformContext) | undefined;
    } | undefined;
    values?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Values>, orig: import("./Algebra").Values) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Values) => TransformContext) | undefined;
    } | undefined;
    compositeupdate?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").CompositeUpdate>, orig: import("./Algebra").CompositeUpdate) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").CompositeUpdate) => TransformContext) | undefined;
    } | undefined;
    deleteinsert?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").DeleteInsert>, orig: import("./Algebra").DeleteInsert) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").DeleteInsert) => TransformContext) | undefined;
    } | undefined;
    load?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Load>, orig: import("./Algebra").Load) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Load) => TransformContext) | undefined;
    } | undefined;
    clear?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Clear>, orig: import("./Algebra").Clear) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Clear) => TransformContext) | undefined;
    } | undefined;
    create?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Create>, orig: import("./Algebra").Create) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Create) => TransformContext) | undefined;
    } | undefined;
    drop?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Drop>, orig: import("./Algebra").Drop) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Drop) => TransformContext) | undefined;
    } | undefined;
    add?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Add>, orig: import("./Algebra").Add) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Add) => TransformContext) | undefined;
    } | undefined;
    move?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Move>, orig: import("./Algebra").Move) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Move) => TransformContext) | undefined;
    } | undefined;
    copy?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Copy>, orig: import("./Algebra").Copy) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Copy) => TransformContext) | undefined;
    } | undefined;
    path?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Path>, orig: import("./Algebra").Path) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Path) => TransformContext) | undefined;
    } | undefined;
    alt?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Alt>, orig: import("./Algebra").Alt) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Alt) => TransformContext) | undefined;
    } | undefined;
    inv?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Inv>, orig: import("./Algebra").Inv) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Inv) => TransformContext) | undefined;
    } | undefined;
    link?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Link>, orig: import("./Algebra").Link) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Link) => TransformContext) | undefined;
    } | undefined;
    OneOrMorePath?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").OneOrMorePath>, orig: import("./Algebra").OneOrMorePath) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").OneOrMorePath) => TransformContext) | undefined;
    } | undefined;
    seq?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Seq>, orig: import("./Algebra").Seq) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Seq) => TransformContext) | undefined;
    } | undefined;
    nps?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Nps>, orig: import("./Algebra").Nps) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Nps) => TransformContext) | undefined;
    } | undefined;
    ZeroOrMorePath?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").ZeroOrMorePath>, orig: import("./Algebra").ZeroOrMorePath) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").ZeroOrMorePath) => TransformContext) | undefined;
    } | undefined;
    ZeroOrOnePath?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").ZeroOrOnePath>, orig: import("./Algebra").ZeroOrOnePath) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").ZeroOrOnePath) => TransformContext) | undefined;
    } | undefined;
}) => Safe extends "unsafe" ? OutType : unknown;
/**
 * Transform a single operation.
 * e.g. wrapping a distinct around the outermost project:
 * ```ts
 * mapOperation({
 *   type: Algebra.Types.SLICE,
 *   input: {
 *     type: Algebra.Types.PROJECT,
 *     input: {
 *       type: Algebra.Types.JOIN,
 *       input: [{ type: Algebra.Types.PROJECT }, { type: Algebra.Types.BGP }],
 *     },
 *   },
 * }, {
 *   [Algebra.Types.PROJECT]: {
 *     preVisitor: () => ({ continue: false }),
 *     transform: projection => algebraFactory.createDistinct(projection),
 *   },
 * });
 * const returns = {
 *   type: Algebra.Types.SLICE,
 *   input: {
 *     type: Algebra.Types.DISTINCT,
 *     input: {
 *       type: Algebra.Types.PROJECT,
 *       input: {
 *         type: Algebra.Types.JOIN,
 *         input: [{ type: Algebra.Types.PROJECT }, { type: Algebra.Types.BGP }],
 *       },
 *     },
 *   },
 * };
 * ```
 * @param startObject the object from which we will start the transformation,
 *   potentially visiting and transforming its descendants along the way.
 * @param nodeCallBacks a dictionary mapping the various operation types to objects optionally
 *    containing preVisitor and transformer.
 *    The preVisitor allows you to provide {@link TransformContext} for the current object,
 *    altering how it will be transformed.
 *    The transformer allows you to manipulate the copy of the current object,
 *    and expects you to return the value that should take the current objects place.
 * @return the result of transforming the requested descendant operations (based on the preVisitor)
 * using a transformer that works its way back up from the descendant to the startObject.
 */
export declare const mapOperation: (typeof mapOperationStrict<'unsafe', Operation>);
/**
 * Transform a single operation, similar to {@link mapOperationSub}, but using stricter typings.
 * e.g. wrapping a distinct around the all project operations not contained in an aggregate expression
 * (invalid algebra anyway):
 * ```ts
 * mapOperationSubStrict<'unsafe', Operation>({
 *   type: Algebra.Types.SLICE,
 *   input: {
 *     type: Algebra.Types.PROJECT,
 *     input: {
 *       type: Algebra.Types.JOIN,
 *       input: [{
 *         type: Algebra.Types.EXPRESSION,
 *         subType: Algebra.ExpressionTypes.AGGREGATE,
 *         input: { type: Algebra.Types.PROJECT },
 *       }, { type: Algebra.Types.BGP }],
 *     },
 *   },
 * }, { [Algebra.Types.PROJECT]: {
 *   transform: projection => algebraFactory.createDistinct(projection),
 * }}, { [Algebra.Types.EXPRESSION]: { [Algebra.ExpressionTypes.AGGREGATE]: {
 *   preVisitor: () => ({ continue: false }),
 * }}});
 * const returns = {
 *   type: Algebra.Types.SLICE,
 *   input: {
 *     type: Algebra.Types.DISTINCT,
 *     input: {
 *       type: Algebra.Types.PROJECT,
 *       input: {
 *         type: Algebra.Types.JOIN,
 *         input: [{
 *           type: Algebra.Types.EXPRESSION,
 *           subType: Algebra.ExpressionTypes.AGGREGATE,
 *           input: { type: Algebra.Types.PROJECT },
 *         }, { type: Algebra.Types.BGP }],
 *       },
 *     },
 *   },
 * };
 * ```
 * @param startObject the object from which we will start the transformation,
 *   potentially visiting and transforming its descendants along the way.
 * @param nodeCallBacks a dictionary mapping the various operation types to objects optionally
 *    containing preVisitor and transformer.
 *    The preVisitor allows you to provide {@link TransformContext} for the current object,
 *    altering how it will be transformed.
 *    The transformer allows you to manipulate the copy of the current object,
 *    and expects you to return the value that should take the current objects place.
 * @param nodeSpecificCallBacks Same as nodeCallBacks but using an additional level of indirection to
 *     indicate the subType.
 * @return the result of transforming the requested descendant operations (based on the preVisitor)
 * using a transformer that works its way back up from the descendant to the startObject.
 */
export declare const mapOperationSubStrict: <Safe extends import("@traqula/core").Safeness = "safe", OutType = unknown>(startObject: object, nodeCallBacks: {
    ask?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Ask>, orig: import("./Algebra").Ask) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Ask) => TransformContext) | undefined;
    } | undefined;
    bgp?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Bgp>, orig: import("./Algebra").Bgp) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Bgp) => TransformContext) | undefined;
    } | undefined;
    construct?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Construct>, orig: import("./Algebra").Construct) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Construct) => TransformContext) | undefined;
    } | undefined;
    describe?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Describe>, orig: import("./Algebra").Describe) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Describe) => TransformContext) | undefined;
    } | undefined;
    distinct?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Distinct>, orig: import("./Algebra").Distinct) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Distinct) => TransformContext) | undefined;
    } | undefined;
    expression?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").KnownExpression>, orig: import("./Algebra").KnownExpression) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").KnownExpression) => TransformContext) | undefined;
    } | undefined;
    extend?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Extend>, orig: import("./Algebra").Extend) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Extend) => TransformContext) | undefined;
    } | undefined;
    filter?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Filter>, orig: import("./Algebra").Filter) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Filter) => TransformContext) | undefined;
    } | undefined;
    from?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").From>, orig: import("./Algebra").From) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").From) => TransformContext) | undefined;
    } | undefined;
    graph?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Graph>, orig: import("./Algebra").Graph) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Graph) => TransformContext) | undefined;
    } | undefined;
    group?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>>, orig: import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>) => unknown) | undefined;
        preVisitor?: ((orig: import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>) => TransformContext) | undefined;
    } | undefined;
    join?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Join>, orig: import("./Algebra").Join) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Join) => TransformContext) | undefined;
    } | undefined;
    leftjoin?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").LeftJoin>, orig: import("./Algebra").LeftJoin) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").LeftJoin) => TransformContext) | undefined;
    } | undefined;
    minus?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Minus>, orig: import("./Algebra").Minus) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Minus) => TransformContext) | undefined;
    } | undefined;
    nop?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Nop>, orig: import("./Algebra").Nop) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Nop) => TransformContext) | undefined;
    } | undefined;
    orderby?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").OrderBy>, orig: import("./Algebra").OrderBy) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").OrderBy) => TransformContext) | undefined;
    } | undefined;
    pattern?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Pattern>, orig: import("./Algebra").Pattern) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Pattern) => TransformContext) | undefined;
    } | undefined;
    project?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Project>, orig: import("./Algebra").Project) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Project) => TransformContext) | undefined;
    } | undefined;
    reduced?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Reduced>, orig: import("./Algebra").Reduced) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Reduced) => TransformContext) | undefined;
    } | undefined;
    service?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Service>, orig: import("./Algebra").Service) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Service) => TransformContext) | undefined;
    } | undefined;
    slice?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Slice>, orig: import("./Algebra").Slice) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Slice) => TransformContext) | undefined;
    } | undefined;
    union?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Union>, orig: import("./Algebra").Union) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Union) => TransformContext) | undefined;
    } | undefined;
    values?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Values>, orig: import("./Algebra").Values) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Values) => TransformContext) | undefined;
    } | undefined;
    compositeupdate?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").CompositeUpdate>, orig: import("./Algebra").CompositeUpdate) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").CompositeUpdate) => TransformContext) | undefined;
    } | undefined;
    deleteinsert?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").DeleteInsert>, orig: import("./Algebra").DeleteInsert) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").DeleteInsert) => TransformContext) | undefined;
    } | undefined;
    load?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Load>, orig: import("./Algebra").Load) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Load) => TransformContext) | undefined;
    } | undefined;
    clear?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Clear>, orig: import("./Algebra").Clear) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Clear) => TransformContext) | undefined;
    } | undefined;
    create?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Create>, orig: import("./Algebra").Create) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Create) => TransformContext) | undefined;
    } | undefined;
    drop?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Drop>, orig: import("./Algebra").Drop) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Drop) => TransformContext) | undefined;
    } | undefined;
    add?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Add>, orig: import("./Algebra").Add) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Add) => TransformContext) | undefined;
    } | undefined;
    move?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Move>, orig: import("./Algebra").Move) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Move) => TransformContext) | undefined;
    } | undefined;
    copy?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Copy>, orig: import("./Algebra").Copy) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Copy) => TransformContext) | undefined;
    } | undefined;
    path?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Path>, orig: import("./Algebra").Path) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Path) => TransformContext) | undefined;
    } | undefined;
    alt?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Alt>, orig: import("./Algebra").Alt) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Alt) => TransformContext) | undefined;
    } | undefined;
    inv?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Inv>, orig: import("./Algebra").Inv) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Inv) => TransformContext) | undefined;
    } | undefined;
    link?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Link>, orig: import("./Algebra").Link) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Link) => TransformContext) | undefined;
    } | undefined;
    OneOrMorePath?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").OneOrMorePath>, orig: import("./Algebra").OneOrMorePath) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").OneOrMorePath) => TransformContext) | undefined;
    } | undefined;
    seq?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Seq>, orig: import("./Algebra").Seq) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Seq) => TransformContext) | undefined;
    } | undefined;
    nps?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").Nps>, orig: import("./Algebra").Nps) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").Nps) => TransformContext) | undefined;
    } | undefined;
    ZeroOrMorePath?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").ZeroOrMorePath>, orig: import("./Algebra").ZeroOrMorePath) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").ZeroOrMorePath) => TransformContext) | undefined;
    } | undefined;
    ZeroOrOnePath?: {
        transform?: ((copy: import("@traqula/core").SafeWrap<Safe, import("./Algebra").ZeroOrOnePath>, orig: import("./Algebra").ZeroOrOnePath) => unknown) | undefined;
        preVisitor?: ((orig: import("./Algebra").ZeroOrOnePath) => TransformContext) | undefined;
    } | undefined;
}, nodeSpecificCallBacks: {
    ask?: {} | undefined;
    bgp?: {} | undefined;
    construct?: {} | undefined;
    describe?: {} | undefined;
    distinct?: {} | undefined;
    expression?: {
        aggregate?: {
            transform?: ((op: import("@traqula/core").SafeWrap<Safe, import("./Algebra").BoundAggregate | import("./Algebra").AggregateExpression | import("./Algebra").GroupConcatExpression>) => unknown) | undefined;
            preVisitor?: ((op: import("./Algebra").BoundAggregate | import("./Algebra").AggregateExpression | import("./Algebra").GroupConcatExpression) => TransformContext) | undefined;
        } | undefined;
        existence?: {
            transform?: ((op: import("@traqula/core").SafeWrap<Safe, import("./Algebra").ExistenceExpression>) => unknown) | undefined;
            preVisitor?: ((op: import("./Algebra").ExistenceExpression) => TransformContext) | undefined;
        } | undefined;
        named?: {
            transform?: ((op: import("@traqula/core").SafeWrap<Safe, import("./Algebra").NamedExpression>) => unknown) | undefined;
            preVisitor?: ((op: import("./Algebra").NamedExpression) => TransformContext) | undefined;
        } | undefined;
        operator?: {
            transform?: ((op: import("@traqula/core").SafeWrap<Safe, import("./Algebra").OperatorExpression>) => unknown) | undefined;
            preVisitor?: ((op: import("./Algebra").OperatorExpression) => TransformContext) | undefined;
        } | undefined;
        term?: {
            transform?: ((op: import("@traqula/core").SafeWrap<Safe, import("./Algebra").TermExpression>) => unknown) | undefined;
            preVisitor?: ((op: import("./Algebra").TermExpression) => TransformContext) | undefined;
        } | undefined;
        wildcard?: {
            transform?: ((op: import("@traqula/core").SafeWrap<Safe, import("./Algebra").WildcardExpression>) => unknown) | undefined;
            preVisitor?: ((op: import("./Algebra").WildcardExpression) => TransformContext) | undefined;
        } | undefined;
    } | undefined;
    extend?: {} | undefined;
    filter?: {} | undefined;
    from?: {} | undefined;
    graph?: {} | undefined;
    group?: {} | undefined;
    join?: {} | undefined;
    leftjoin?: {} | undefined;
    minus?: {} | undefined;
    nop?: {} | undefined;
    orderby?: {} | undefined;
    pattern?: {} | undefined;
    project?: {} | undefined;
    reduced?: {} | undefined;
    service?: {} | undefined;
    slice?: {} | undefined;
    union?: {} | undefined;
    values?: {} | undefined;
    compositeupdate?: {} | undefined;
    deleteinsert?: {} | undefined;
    load?: {} | undefined;
    clear?: {} | undefined;
    create?: {} | undefined;
    drop?: {} | undefined;
    add?: {} | undefined;
    move?: {} | undefined;
    copy?: {} | undefined;
    path?: {} | undefined;
    alt?: {} | undefined;
    inv?: {} | undefined;
    link?: {} | undefined;
    OneOrMorePath?: {} | undefined;
    seq?: {} | undefined;
    nps?: {} | undefined;
    ZeroOrMorePath?: {} | undefined;
    ZeroOrOnePath?: {} | undefined;
}) => Safe extends "unsafe" ? OutType : unknown;
/**
 * Transform a single operation, similar to {@link mapOperation}, but also allowing you to target subTypes.
 * e.g. wrapping a distinct around the all project operations not contained in an aggregate expression
 * (invalid algebra anyway):
 * ```ts
 * mapOperationSub({
 *   type: Algebra.Types.SLICE,
 *   input: {
 *     type: Algebra.Types.PROJECT,
 *     input: {
 *       type: Algebra.Types.JOIN,
 *       input: [{
 *         type: Algebra.Types.EXPRESSION,
 *         subType: Algebra.ExpressionTypes.AGGREGATE,
 *         input: { type: Algebra.Types.PROJECT },
 *       }, { type: Algebra.Types.BGP }],
 *     },
 *   },
 * }, { [Algebra.Types.PROJECT]: {
 *   transform: projection => algebraFactory.createDistinct(projection),
 * }}, { [Algebra.Types.EXPRESSION]: { [Algebra.ExpressionTypes.AGGREGATE]: {
 *   preVisitor: () => ({ continue: false }),
 * }}});
 * const returns = {
 *   type: Algebra.Types.SLICE,
 *   input: {
 *     type: Algebra.Types.DISTINCT,
 *     input: {
 *       type: Algebra.Types.PROJECT,
 *       input: {
 *         type: Algebra.Types.JOIN,
 *         input: [{
 *           type: Algebra.Types.EXPRESSION,
 *           subType: Algebra.ExpressionTypes.AGGREGATE,
 *           input: { type: Algebra.Types.PROJECT },
 *         }, { type: Algebra.Types.BGP }],
 *       },
 *     },
 *   },
 * };
 * ```
 * @param startObject the object from which we will start the transformation,
 *   potentially visiting and transforming its descendants along the way.
 * @param nodeCallBacks a dictionary mapping the various operation types to objects optionally
 *    containing preVisitor and transformer.
 *    The preVisitor allows you to provide {@link TransformContext} for the current object,
 *    altering how it will be transformed.
 *    The transformer allows you to manipulate the copy of the current object,
 *    and expects you to return the value that should take the current objects place.
 * @param nodeSpecificCallBacks Same as nodeCallBacks but using an additional level of indirection to
 *     indicate the subType.
 * @return the result of transforming the requested descendant operations (based on the preVisitor)
 * using a transformer that works its way back up from the descendant to the startObject.
 */
export declare const mapOperationSub: (typeof mapOperationSubStrict<'unsafe', Operation>);
/**
 * Similar to {@link mapOperation}, but only visiting instead of copying and transforming explicitly.
 * e.g.:
 * ```ts
 * visitOperation({
 *   type: Algebra.Types.DISTINCT,
 *   input: {
 *     type: Algebra.Types.PROJECT,
 *     input: { type: Algebra.Types.DISTINCT },
 *   },
 * }, {
 *   [Algebra.Types.DISTINCT]: { visitor: () => console.log('1') },
 *   [Algebra.Types.PROJECT]: {
 *     preVisitor: () => ({ continue: false }),
 *     visitor: () => console.log('2'),
 *   },
 * });
 * ```
 * Will first call the preVisitor on the project and notice it should not iterate on its descendants.
 * It then visits the project, and the outermost distinct, printing '21'.
 * The pre-visitor visits starting from the root, going deeper, while the actual visitor goes in reverse.
 * @param startObject the object from which we will start visiting,
 *   potentially visiting its descendants along the way.
 * @param nodeCallBacks a dictionary mapping the various operation types to objects optionally
 *    containing preVisitor and visitor.
 *    The preVisitor allows you to provide {@link VisitContext} for the current object,
 *    altering how it will be visited.
 *    The visitor allows you to visit the object from deepest to the outermost object.
 *    This is useful if you for example want to manipulate the objects you visit during your visits,
 *    similar to {@link mapOperation}.
 */
export declare const visitOperation: (startObject: object, nodeCallBacks: {
    ask?: {
        visitor?: ((op: import("./Algebra").Ask) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Ask) => VisitContext) | undefined;
    } | undefined;
    bgp?: {
        visitor?: ((op: import("./Algebra").Bgp) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Bgp) => VisitContext) | undefined;
    } | undefined;
    construct?: {
        visitor?: ((op: import("./Algebra").Construct) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Construct) => VisitContext) | undefined;
    } | undefined;
    describe?: {
        visitor?: ((op: import("./Algebra").Describe) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Describe) => VisitContext) | undefined;
    } | undefined;
    distinct?: {
        visitor?: ((op: import("./Algebra").Distinct) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Distinct) => VisitContext) | undefined;
    } | undefined;
    expression?: {
        visitor?: ((op: import("./Algebra").KnownExpression) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").KnownExpression) => VisitContext) | undefined;
    } | undefined;
    extend?: {
        visitor?: ((op: import("./Algebra").Extend) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Extend) => VisitContext) | undefined;
    } | undefined;
    filter?: {
        visitor?: ((op: import("./Algebra").Filter) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Filter) => VisitContext) | undefined;
    } | undefined;
    from?: {
        visitor?: ((op: import("./Algebra").From) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").From) => VisitContext) | undefined;
    } | undefined;
    graph?: {
        visitor?: ((op: import("./Algebra").Graph) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Graph) => VisitContext) | undefined;
    } | undefined;
    group?: {
        visitor?: ((op: import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>) => void) | undefined;
        preVisitor?: ((op: import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>) => VisitContext) | undefined;
    } | undefined;
    join?: {
        visitor?: ((op: import("./Algebra").Join) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Join) => VisitContext) | undefined;
    } | undefined;
    leftjoin?: {
        visitor?: ((op: import("./Algebra").LeftJoin) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").LeftJoin) => VisitContext) | undefined;
    } | undefined;
    minus?: {
        visitor?: ((op: import("./Algebra").Minus) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Minus) => VisitContext) | undefined;
    } | undefined;
    nop?: {
        visitor?: ((op: import("./Algebra").Nop) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Nop) => VisitContext) | undefined;
    } | undefined;
    orderby?: {
        visitor?: ((op: import("./Algebra").OrderBy) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").OrderBy) => VisitContext) | undefined;
    } | undefined;
    pattern?: {
        visitor?: ((op: import("./Algebra").Pattern) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Pattern) => VisitContext) | undefined;
    } | undefined;
    project?: {
        visitor?: ((op: import("./Algebra").Project) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Project) => VisitContext) | undefined;
    } | undefined;
    reduced?: {
        visitor?: ((op: import("./Algebra").Reduced) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Reduced) => VisitContext) | undefined;
    } | undefined;
    service?: {
        visitor?: ((op: import("./Algebra").Service) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Service) => VisitContext) | undefined;
    } | undefined;
    slice?: {
        visitor?: ((op: import("./Algebra").Slice) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Slice) => VisitContext) | undefined;
    } | undefined;
    union?: {
        visitor?: ((op: import("./Algebra").Union) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Union) => VisitContext) | undefined;
    } | undefined;
    values?: {
        visitor?: ((op: import("./Algebra").Values) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Values) => VisitContext) | undefined;
    } | undefined;
    compositeupdate?: {
        visitor?: ((op: import("./Algebra").CompositeUpdate) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").CompositeUpdate) => VisitContext) | undefined;
    } | undefined;
    deleteinsert?: {
        visitor?: ((op: import("./Algebra").DeleteInsert) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").DeleteInsert) => VisitContext) | undefined;
    } | undefined;
    load?: {
        visitor?: ((op: import("./Algebra").Load) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Load) => VisitContext) | undefined;
    } | undefined;
    clear?: {
        visitor?: ((op: import("./Algebra").Clear) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Clear) => VisitContext) | undefined;
    } | undefined;
    create?: {
        visitor?: ((op: import("./Algebra").Create) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Create) => VisitContext) | undefined;
    } | undefined;
    drop?: {
        visitor?: ((op: import("./Algebra").Drop) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Drop) => VisitContext) | undefined;
    } | undefined;
    add?: {
        visitor?: ((op: import("./Algebra").Add) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Add) => VisitContext) | undefined;
    } | undefined;
    move?: {
        visitor?: ((op: import("./Algebra").Move) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Move) => VisitContext) | undefined;
    } | undefined;
    copy?: {
        visitor?: ((op: import("./Algebra").Copy) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Copy) => VisitContext) | undefined;
    } | undefined;
    path?: {
        visitor?: ((op: import("./Algebra").Path) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Path) => VisitContext) | undefined;
    } | undefined;
    alt?: {
        visitor?: ((op: import("./Algebra").Alt) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Alt) => VisitContext) | undefined;
    } | undefined;
    inv?: {
        visitor?: ((op: import("./Algebra").Inv) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Inv) => VisitContext) | undefined;
    } | undefined;
    link?: {
        visitor?: ((op: import("./Algebra").Link) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Link) => VisitContext) | undefined;
    } | undefined;
    OneOrMorePath?: {
        visitor?: ((op: import("./Algebra").OneOrMorePath) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").OneOrMorePath) => VisitContext) | undefined;
    } | undefined;
    seq?: {
        visitor?: ((op: import("./Algebra").Seq) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Seq) => VisitContext) | undefined;
    } | undefined;
    nps?: {
        visitor?: ((op: import("./Algebra").Nps) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Nps) => VisitContext) | undefined;
    } | undefined;
    ZeroOrMorePath?: {
        visitor?: ((op: import("./Algebra").ZeroOrMorePath) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").ZeroOrMorePath) => VisitContext) | undefined;
    } | undefined;
    ZeroOrOnePath?: {
        visitor?: ((op: import("./Algebra").ZeroOrOnePath) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").ZeroOrOnePath) => VisitContext) | undefined;
    } | undefined;
}) => void;
/**
 * Visits an object and it's descendants, similar to {@link visitOperation},
 * but also allowing you to target subTypes. e.g.:
 * e.g.:
 * ```ts
 * visitOperationSub({
 *   type: Algebra.Types.DISTINCT,
 *   input: {
 *     type: Algebra.Types.DISTINCT,
 *     subType: 'special',
 *   },
 * }, {
 *   [Algebra.Types.DISTINCT]: {
 *     visitor: () => console.log('1'),
 *     preVisitor: () => {
 *       console.log('2');
 *       return {};
 *     },
 *   },
 * }, {
 *   [Algebra.Types.DISTINCT]: { special: {
 *     visitor: () => console.log('3'),
 *   }},
 * });
 * ```
 * Will call the preVisitor on the outer distinct, then the visitor of the special distinct,
 * followed by the visiting the outer distinct, printing '231'.
 * The pre-visitor visits starting from the root, going deeper, while the actual visitor goes in reverse.
 * @param startObject the object from which we will start visiting,
 *   potentially visiting its descendants along the way.
 * @param nodeCallBacks a dictionary mapping the various operation types to objects optionally
 *    containing preVisitor and visitor.
 *    The preVisitor allows you to provide {@link VisitContext} for the current object,
 *    altering how it will be visited.
 *    The visitor allows you to visit the object from deepest to the outermost object.
 *    This is useful if you for example want to manipulate the objects you visit during your visits,
 *    similar to {@link mapOperation}.
 * @param nodeSpecificCallBacks Same as nodeCallBacks but using an additional level of indirection to
 *     indicate the subType.
 */
export declare const visitOperationSub: (startObject: object, nodeCallBacks: {
    ask?: {
        visitor?: ((op: import("./Algebra").Ask) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Ask) => VisitContext) | undefined;
    } | undefined;
    bgp?: {
        visitor?: ((op: import("./Algebra").Bgp) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Bgp) => VisitContext) | undefined;
    } | undefined;
    construct?: {
        visitor?: ((op: import("./Algebra").Construct) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Construct) => VisitContext) | undefined;
    } | undefined;
    describe?: {
        visitor?: ((op: import("./Algebra").Describe) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Describe) => VisitContext) | undefined;
    } | undefined;
    distinct?: {
        visitor?: ((op: import("./Algebra").Distinct) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Distinct) => VisitContext) | undefined;
    } | undefined;
    expression?: {
        visitor?: ((op: import("./Algebra").KnownExpression) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").KnownExpression) => VisitContext) | undefined;
    } | undefined;
    extend?: {
        visitor?: ((op: import("./Algebra").Extend) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Extend) => VisitContext) | undefined;
    } | undefined;
    filter?: {
        visitor?: ((op: import("./Algebra").Filter) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Filter) => VisitContext) | undefined;
    } | undefined;
    from?: {
        visitor?: ((op: import("./Algebra").From) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").From) => VisitContext) | undefined;
    } | undefined;
    graph?: {
        visitor?: ((op: import("./Algebra").Graph) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Graph) => VisitContext) | undefined;
    } | undefined;
    group?: {
        visitor?: ((op: import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>) => void) | undefined;
        preVisitor?: ((op: import("@traqula/core").Patch<import("./Algebra").Opened<TraqulaAlgebra.Group>, {
            aggregates: import("./Algebra").BoundAggregate[];
        }>) => VisitContext) | undefined;
    } | undefined;
    join?: {
        visitor?: ((op: import("./Algebra").Join) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Join) => VisitContext) | undefined;
    } | undefined;
    leftjoin?: {
        visitor?: ((op: import("./Algebra").LeftJoin) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").LeftJoin) => VisitContext) | undefined;
    } | undefined;
    minus?: {
        visitor?: ((op: import("./Algebra").Minus) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Minus) => VisitContext) | undefined;
    } | undefined;
    nop?: {
        visitor?: ((op: import("./Algebra").Nop) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Nop) => VisitContext) | undefined;
    } | undefined;
    orderby?: {
        visitor?: ((op: import("./Algebra").OrderBy) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").OrderBy) => VisitContext) | undefined;
    } | undefined;
    pattern?: {
        visitor?: ((op: import("./Algebra").Pattern) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Pattern) => VisitContext) | undefined;
    } | undefined;
    project?: {
        visitor?: ((op: import("./Algebra").Project) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Project) => VisitContext) | undefined;
    } | undefined;
    reduced?: {
        visitor?: ((op: import("./Algebra").Reduced) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Reduced) => VisitContext) | undefined;
    } | undefined;
    service?: {
        visitor?: ((op: import("./Algebra").Service) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Service) => VisitContext) | undefined;
    } | undefined;
    slice?: {
        visitor?: ((op: import("./Algebra").Slice) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Slice) => VisitContext) | undefined;
    } | undefined;
    union?: {
        visitor?: ((op: import("./Algebra").Union) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Union) => VisitContext) | undefined;
    } | undefined;
    values?: {
        visitor?: ((op: import("./Algebra").Values) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Values) => VisitContext) | undefined;
    } | undefined;
    compositeupdate?: {
        visitor?: ((op: import("./Algebra").CompositeUpdate) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").CompositeUpdate) => VisitContext) | undefined;
    } | undefined;
    deleteinsert?: {
        visitor?: ((op: import("./Algebra").DeleteInsert) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").DeleteInsert) => VisitContext) | undefined;
    } | undefined;
    load?: {
        visitor?: ((op: import("./Algebra").Load) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Load) => VisitContext) | undefined;
    } | undefined;
    clear?: {
        visitor?: ((op: import("./Algebra").Clear) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Clear) => VisitContext) | undefined;
    } | undefined;
    create?: {
        visitor?: ((op: import("./Algebra").Create) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Create) => VisitContext) | undefined;
    } | undefined;
    drop?: {
        visitor?: ((op: import("./Algebra").Drop) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Drop) => VisitContext) | undefined;
    } | undefined;
    add?: {
        visitor?: ((op: import("./Algebra").Add) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Add) => VisitContext) | undefined;
    } | undefined;
    move?: {
        visitor?: ((op: import("./Algebra").Move) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Move) => VisitContext) | undefined;
    } | undefined;
    copy?: {
        visitor?: ((op: import("./Algebra").Copy) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Copy) => VisitContext) | undefined;
    } | undefined;
    path?: {
        visitor?: ((op: import("./Algebra").Path) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Path) => VisitContext) | undefined;
    } | undefined;
    alt?: {
        visitor?: ((op: import("./Algebra").Alt) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Alt) => VisitContext) | undefined;
    } | undefined;
    inv?: {
        visitor?: ((op: import("./Algebra").Inv) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Inv) => VisitContext) | undefined;
    } | undefined;
    link?: {
        visitor?: ((op: import("./Algebra").Link) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Link) => VisitContext) | undefined;
    } | undefined;
    OneOrMorePath?: {
        visitor?: ((op: import("./Algebra").OneOrMorePath) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").OneOrMorePath) => VisitContext) | undefined;
    } | undefined;
    seq?: {
        visitor?: ((op: import("./Algebra").Seq) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Seq) => VisitContext) | undefined;
    } | undefined;
    nps?: {
        visitor?: ((op: import("./Algebra").Nps) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").Nps) => VisitContext) | undefined;
    } | undefined;
    ZeroOrMorePath?: {
        visitor?: ((op: import("./Algebra").ZeroOrMorePath) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").ZeroOrMorePath) => VisitContext) | undefined;
    } | undefined;
    ZeroOrOnePath?: {
        visitor?: ((op: import("./Algebra").ZeroOrOnePath) => void) | undefined;
        preVisitor?: ((op: import("./Algebra").ZeroOrOnePath) => VisitContext) | undefined;
    } | undefined;
}, nodeSpecificCallBacks: {
    ask?: {} | undefined;
    bgp?: {} | undefined;
    construct?: {} | undefined;
    describe?: {} | undefined;
    distinct?: {} | undefined;
    expression?: {
        aggregate?: {
            visitor?: ((op: import("./Algebra").BoundAggregate | import("./Algebra").AggregateExpression | import("./Algebra").GroupConcatExpression) => void) | undefined;
            preVisitor?: ((op: import("./Algebra").BoundAggregate | import("./Algebra").AggregateExpression | import("./Algebra").GroupConcatExpression) => VisitContext) | undefined;
        } | undefined;
        existence?: {
            visitor?: ((op: import("./Algebra").ExistenceExpression) => void) | undefined;
            preVisitor?: ((op: import("./Algebra").ExistenceExpression) => VisitContext) | undefined;
        } | undefined;
        named?: {
            visitor?: ((op: import("./Algebra").NamedExpression) => void) | undefined;
            preVisitor?: ((op: import("./Algebra").NamedExpression) => VisitContext) | undefined;
        } | undefined;
        operator?: {
            visitor?: ((op: import("./Algebra").OperatorExpression) => void) | undefined;
            preVisitor?: ((op: import("./Algebra").OperatorExpression) => VisitContext) | undefined;
        } | undefined;
        term?: {
            visitor?: ((op: import("./Algebra").TermExpression) => void) | undefined;
            preVisitor?: ((op: import("./Algebra").TermExpression) => VisitContext) | undefined;
        } | undefined;
        wildcard?: {
            visitor?: ((op: import("./Algebra").WildcardExpression) => void) | undefined;
            preVisitor?: ((op: import("./Algebra").WildcardExpression) => VisitContext) | undefined;
        } | undefined;
    } | undefined;
    extend?: {} | undefined;
    filter?: {} | undefined;
    from?: {} | undefined;
    graph?: {} | undefined;
    group?: {} | undefined;
    join?: {} | undefined;
    leftjoin?: {} | undefined;
    minus?: {} | undefined;
    nop?: {} | undefined;
    orderby?: {} | undefined;
    pattern?: {} | undefined;
    project?: {} | undefined;
    reduced?: {} | undefined;
    service?: {} | undefined;
    slice?: {} | undefined;
    union?: {} | undefined;
    values?: {} | undefined;
    compositeupdate?: {} | undefined;
    deleteinsert?: {} | undefined;
    load?: {} | undefined;
    clear?: {} | undefined;
    create?: {} | undefined;
    drop?: {} | undefined;
    add?: {} | undefined;
    move?: {} | undefined;
    copy?: {} | undefined;
    path?: {} | undefined;
    alt?: {} | undefined;
    inv?: {} | undefined;
    link?: {} | undefined;
    OneOrMorePath?: {} | undefined;
    seq?: {} | undefined;
    nps?: {} | undefined;
    ZeroOrMorePath?: {} | undefined;
    ZeroOrOnePath?: {} | undefined;
}) => void;
/**
 * Detects all in-scope variables.
 * In practice this means iterating through the entire algebra tree, finding all variables,
 * and stopping when a project function is found.
 * @param {Operation} op Input algebra tree.
 * @param visitor the visitor to be used to traverse the various nodes.
 *        Allows you to provide a visitor with different default preVisitor cotexts.
 * @returns {RDF.Variable[]} List of unique in-scope variables.
 */
export declare const inScopeVariables: typeof algebraUtils.inScopeVariables;
