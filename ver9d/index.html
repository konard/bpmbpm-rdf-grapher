<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RDF Grapher ver9d - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è RDF –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π TriG + SPARQL Smart Design + Ontology </title>

    <!--
        issue #232: –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è ver9d - –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
        issue #236: –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–µ –ø–∞–Ω–µ–ª–∏, —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫, –ø—É—Ç—å –≤ –æ—à–∏–±–∫–∞—Ö
        RDF Grapher ver9d - –°–µ—Ä–≤–∏—Å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ RDF –¥–∞–Ω–Ω—ã—Ö –∏ –∏—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–∞
        –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ver9d: SPARQL Smart Design + Ontology
        –≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º https://www.ldf.fi/service/rdf-grapher –≤ —á–∞—Å—Ç–∏ BPM
        –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ JavaScript –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
        - N3.js –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ RDF (–∑–∞–º–µ–Ω–∞ Redland Raptor)
        - Viz.js –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≥—Ä–∞—Ñ–æ–≤ (–∑–∞–º–µ–Ω–∞ Graphviz)

        –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω –Ω–∞ GitHub Pages

        –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (issue #232):
        - 9_vadlib/ - –±–∞–∑–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —É—Ç–∏–ª–∏—Ç—ã, SPARQL –¥–≤–∏–∂–æ–∫)
        - 1_example_data/ - –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
        - 2_triplestore/ - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç—Ä–∏–ø–ª–µ—Ç–æ–≤ (–∑–∞–≥—Ä—É–∑–∫–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –ø–∞—Ä—Å–∏–Ω–≥)
        - 3_sd/ - Smart Design (UI, –ª–æ–≥–∏–∫–∞, SPARQL –∑–∞–ø—Ä–æ—Å—ã, –ø–æ–¥–º–æ–¥—É–ª–∏)
        - 4_resSPARQL/ - Result in SPARQL
        - 5_publisher/ - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (DOT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, —ç–∫—Å–ø–æ—Ä—Ç, —Ñ–∏–ª—å—Ç—Ä—ã)
        - 6_legend/ - –ª–µ–≥–µ–Ω–¥–∞ —Å—Ç–∏–ª–µ–π
        - 7_info/ - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å (–ø—Ä–µ—Ñ–∏–∫—Å—ã, –¥–µ—Ä–µ–≤–æ TriG)
        - 8_infoSPARQL/ - SPARQL –ø–∞–Ω–µ–ª—å –∑–∞–ø—Ä–æ—Å–æ–≤
    -->

    <!-- –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ -->
    <link rel="stylesheet" href="styles.css">
    <!-- issue #236: –°—Ç–∏–ª–∏ –º–æ–¥—É–ª–µ–π -->
    <link rel="stylesheet" href="1_example_data/1_example_data.css">
    <link rel="stylesheet" href="2_triplestore/2_triplestore.css">
    <link rel="stylesheet" href="3_sd/3_sd.css">
    <link rel="stylesheet" href="4_resSPARQL/4_resSPARQL.css">
    <link rel="stylesheet" href="5_publisher/5_publisher.css">
    <!-- issue #408: –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ TreeView -->
    <link rel="stylesheet" href="5_publisher/5_publisher_treeview/5_publisher_treeview_search.css">
    <link rel="stylesheet" href="6_legend/6_legend.css">
    <link rel="stylesheet" href="7_info/7_info.css">
    <link rel="stylesheet" href="8_infoSPARQL/8_infoSPARQL.css">
    <!-- issue #317: –ú–æ–¥—É–ª–∏ Virtual TriG –∏ Reasoning -->
    <link rel="stylesheet" href="10_virtualTriG/10_virtualTriG.css">
    <link rel="stylesheet" href="11_reasoning/11_reasoning.css">
</head>
<body>
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–∞–Ω–µ–ª–µ–π —Å–≤–æ–π—Å—Ç–≤ —É–∑–ª–æ–≤ -->
    <div id="properties-panels-container"></div>

    <!-- issue #236: –û–∫–Ω–æ "1_example_data" - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ -->
    <div class="window-section" id="window-1_example_data">
        <div class="window-header" onclick="togglePanel('1_example_data')">
            <h3>–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–º–µ—Ä RDF-–¥–∞–Ω–Ω—ã—Ö (–ø–∞–ø–∫–∞ /dia)</h3>
            <span class="window-toggle" id="toggle-1_example_data">&#9660;</span>
        </div>
        <div class="window-content" id="content-1_example_data">
            <div class="description">
                <!-- issue #284: –ó–∞–º–µ–Ω–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞–ø–∫–∏ dia/ -->
                <div class="example-select-container">
                    <select id="example-select" onchange="loadSelectedExample()">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä --</option>
                    </select>
                </div>
                <div id="example-status" class="example-status" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- issue #236: –û–∫–Ω–æ "2_triplestore" - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ -->
    <div class="window-section" id="window-2_triplestore">
        <div class="window-header" onclick="togglePanel('2_triplestore')">
            <h3>RDF –¥–∞–Ω–Ω—ã–µ</h3>
            <span class="window-toggle" id="toggle-2_triplestore">&#9660;</span>
        </div>
        <div class="window-content" id="content-2_triplestore">
            <div class="container">
                <div class="rdf-input-header">
                    <!-- issue #258: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ "RDF –¥–∞–Ω–Ω—ã–µ" –≤ "quadstore", textarea —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
                    <label for="rdf-input">quadstore</label>
                    <!-- issue #260, #262, #264, #266: –§–∏–ª—å—Ç—Ä TriG —Ä–∞–∑–º–µ—â—ë–Ω –º–µ–∂–¥—É –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "quadstore" –∏ –∫–Ω–æ–ø–∫–æ–π Edit (–Ω–∞ –æ–¥–Ω–æ–π –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏) -->
                    <select id="trig-filter" onchange="updateTrigFilter()" title="–§–∏–ª—å—Ç—Ä TriG –¥–∞–Ω–Ω—ã—Ö">
                        <option value="objectTreePlusVad" selected>ObjectTree + VADProcessDia (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</option>
                        <option value="objectTree">ObjectTree (–∫–æ–Ω—Ü–µ–ø—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è)</option>
                        <option value="vadProcessDia">VADProcessDia (—Å—Ö–µ–º—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –∏–Ω–¥–∏–≤–∏–¥–∞–º–∏)</option>
                        <option value="techtree">TechTree (vad-basic-ontology_tech_Appendix.ttl)</option>
                        <option value="vadontology">VADontology TriG (vad-basic-ontology.trig)</option>
                        <option value="virtual">Virtual TriG (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π TriG –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)</option>
                        <option value="all">–í—Å–µ TriG (full quadstore –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤)</option>
                    </select>
                    <!-- issue #258: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ "–ü–æ–∫–∞–∑–∞—Ç—å –≤ –æ–∫–Ω–µ" –≤ "Edit" –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ -->
                    <button class="show-in-window-btn" onclick="showRdfEditWindow()">Edit</button>
                    <button class="virtual-rdf-btn" onclick="showVirtualTriGWindow()" title="–ü–æ–∫–∞–∑–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ (vad:processSubtype)">Virtual TriG</button>
                    <button class="clear-btn" onclick="clearRdfInput()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    <button class="save-as-btn" onclick="saveAsFile()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫</button>
                    <button class="load-btn" onclick="document.getElementById('file-input').click()">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                    <button class="test-btn" onclick="testRdfValidation()">–¢–µ—Å—Ç</button>
                    <input type="file" id="file-input" style="display: none;" accept=".ttl,.rdf,.nt,.nq,.trig" onchange="loadFile(event)">
                </div>
                <!-- issue #258: textarea —Ç–µ–ø–µ—Ä—å readonly (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä quadstore) -->
                <textarea id="rdf-input" placeholder="–î–∞–Ω–Ω—ã–µ quadstore (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)..." readonly></textarea>

                <div class="format-selectors">
                    <div class="form-group">
                        <label for="input-format">–í—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç:</label>
                        <select id="input-format">
                            <option value="trig" selected>TriG</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="output-format">–í—ã—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç:</label>
                        <select id="output-format">
                            <option value="svg" selected>SVG</option>
                            <option value="png">PNG</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="layout-engine">–î–≤–∏–∂–æ–∫ –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏:</label>
                        <select id="layout-engine">
                            <option value="dot" selected>dot (–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è)</option>
                            <option value="neato">neato (spring model)</option>
                            <option value="fdp">fdp (force-directed)</option>
                            <option value="circo">circo (–∫—Ä—É–≥–æ–≤–∞—è)</option>
                            <option value="twopi">twopi (—Ä–∞–¥–∏–∞–ª—å–Ω–∞—è)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="visualization-mode">–†–µ–∂–∏–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:</label>
                        <select id="visualization-mode" onchange="updateModeDescription()">
                            <option value="vad-trig" selected>–†–µ–∂–∏–º VAD TriG</option>
                        </select>
                        <div class="mode-description" id="mode-description">
                            VAD –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ TriG –≥—Ä–∞—Ñ–æ–≤
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sparql-mode">–†–µ–∂–∏–º SPARQL:</label>
                        <select id="sparql-mode" onchange="toggleSparqlPanel()">
                            <option value="smart-design" selected>SPARQL Smart Design</option>
                        </select>
                        <div class="mode-description" id="sparql-mode-description">
                            Smart Design –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è SPARQL –∑–∞–ø—Ä–æ—Å–æ–≤
                        </div>
                    </div>

                    <div class="form-group" id="max-label-length-group">
                        <label for="max-label-length">–ú–∞–∫—Å. –¥–ª–∏–Ω–∞ –∏–º–µ–Ω–∏:</label>
                        <input type="number" id="max-label-length" value="25" min="5" max="200" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">
                        <div class="mode-description" id="max-label-length-description">
                            –ü–µ—Ä–µ–Ω–æ—Å –ø–æ —Å–ª–æ–≤–∞–º –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
                        </div>
                    </div>

                    <div class="form-group" id="max-vad-row-length-group" style="display: none;">
                        <label for="max-vad-row-length">–ú–∞–∫—Å. –¥–ª–∏–Ω–∞ VAD:</label>
                        <input type="number" id="max-vad-row-length" value="8" min="2" max="20" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">
                        <div class="mode-description" id="max-vad-row-length-description">
                            –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ VAD-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å—Ç—Ä–æ–∫–µ –¥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- issue #236: –û–∫–Ω–æ "3_sd" - Smart Design Container - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ -->
    <div class="window-section" id="window-3_sd">
        <div class="window-header" onclick="togglePanel('3_sd')">
            <h3>Smart Design</h3>
            <span class="window-toggle" id="toggle-3_sd">&#9660;</span>
        </div>
        <div class="window-content" id="content-3_sd">
            <div class="smart-design-container" id="smart-design-container">
                <!-- –ü–∞–Ω–µ–ª—å Smart Design -->
                <div class="smart-design-panel">
                    <!-- Issue #217: –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
                    <div class="smart-design-header">
                        <h3>Smart Design</h3>
                        <div class="smart-design-header-buttons">
                            <button class="new-concept-btn" onclick="openNewConceptModal()">New Concept</button>
                            <button class="new-individ-btn" onclick="openNewIndividModal()">New Individ</button>
                            <button class="new-trig-btn" onclick="openNewTrigModal()">New TriG (VADProcessDia)</button>
                            <button class="del-concept-btn" onclick="openDelConceptModal()">Del Concept\Individ\Schema</button>
                        </div>
                    </div>
                    <!-- –í–µ—Ä—Ö–Ω–∏–π —Ä—è–¥: TriG -->
                    <div class="smart-design-trig-row">
                        <div class="smart-design-field smart-design-field-trig">
                            <label for="smart-design-trig">TriG:</label>
                            <div class="smart-design-field-wrapper">
                                <select id="smart-design-trig">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ TriG --</option>
                                </select>
                                <button class="copy-to-clipboard-btn" onclick="copyFieldValue('smart-design-trig')" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ">üìã</button>
                            </div>
                        </div>
                    </div>
                    <!-- –ù–∏–∂–Ω–∏–π —Ä—è–¥: Subject Type, Subject, Predicate, Object -->
                    <div class="smart-design-fields">
                        <div class="smart-design-field">
                            <label for="smart-design-subject-type">Subject Type:</label>
                            <div class="smart-design-field-wrapper">
                                <select id="smart-design-subject-type">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø Subject --</option>
                                </select>
                                <button class="copy-to-clipboard-btn" onclick="copyFieldValue('smart-design-subject-type')" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ">üìã</button>
                            </div>
                        </div>
                        <div class="smart-design-field">
                            <label for="smart-design-subject">Subject:</label>
                            <div class="smart-design-field-wrapper">
                                <select id="smart-design-subject">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ Subject --</option>
                                </select>
                                <button class="copy-to-clipboard-btn" onclick="copyFieldValue('smart-design-subject')" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ">üìã</button>
                            </div>
                        </div>
                        <div class="smart-design-field">
                            <label for="smart-design-predicate">Predicate:</label>
                            <div class="smart-design-field-wrapper">
                                <select id="smart-design-predicate">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ Predicate --</option>
                                </select>
                                <button class="copy-to-clipboard-btn" onclick="copyFieldValue('smart-design-predicate')" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ">üìã</button>
                            </div>
                        </div>
                        <div class="smart-design-field">
                            <label for="smart-design-object">Object:</label>
                            <div class="smart-design-field-wrapper">
                                <select id="smart-design-object">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ Object --</option>
                                </select>
                                <button class="copy-to-clipboard-btn" onclick="copyFieldValue('smart-design-object')" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ">üìã</button>
                            </div>
                        </div>
                    </div>
                    <div class="smart-design-buttons">
                        <button onclick="smartDesignCreate()">–°–æ–∑–¥–∞—Ç—å SPARQL</button>
                        <button onclick="smartDesignCreateWithPrefix()" style="background-color: #1565C0;">–°–æ–∑–¥–∞—Ç—å SPARQL (prefix)</button>
                        <button class="delete-btn" onclick="smartDesignDelete()">–£–¥–∞–ª–∏—Ç—å —Ç—Ä–∏–ø–ª–µ—Ç</button>
                        <button class="clear-btn" onclick="smartDesignClear()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    </div>
                    <div id="smart-design-message" class="smart-design-message" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- issue #236: –û–∫–Ω–æ "4_resSPARQL" - Result in SPARQL - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ -->
    <div class="window-section" id="window-4_resSPARQL">
        <div class="window-header" onclick="togglePanel('4_resSPARQL')">
            <h3>Result in SPARQL</h3>
            <span class="window-toggle" id="toggle-4_resSPARQL">&#9660;</span>
        </div>
        <div class="window-content" id="content-4_resSPARQL">
            <div class="result-sparql-panel">
                <textarea class="result-sparql-textarea" id="result-sparql-query" placeholder="–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SPARQL –∑–∞–ø—Ä–æ—Å..."></textarea>
                <div class="smart-design-buttons" style="margin-top: 10px;">
                    <button class="apply-btn" onclick="smartDesignApply()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–∞–∫ Simple Triple</button>
                    <button class="apply-btn" onclick="smartDesignApplyShorthand()" style="background-color: #8E24AA;">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–∞–∫ Shorthand Triple</button>
                    <button class="apply-btn show-virtual-trig-btn" onclick="showVirtualTrigAfterApply()">Virtual TriG</button>
                </div>
                <div id="result-sparql-message" class="smart-design-message" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ TriG (issue #291: —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ —Å New Concept –∏ Del Concept) -->
    <div id="new-trig-modal" class="new-trig-modal">
        <div class="new-trig-modal-content">
            <div class="new-trig-modal-header">
                <h3>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ TriG –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (VADProcessDia)</h3>
                <button class="new-trig-modal-close" onclick="closeNewTrigModal()">&times;</button>
            </div>
            <div class="new-trig-modal-body">
                <div class="new-trig-field">
                    <label for="new-trig-process-concept">–ö–æ–Ω—Ü–µ–ø—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞:</label>
                    <select id="new-trig-process-concept" onchange="updateNewTrigFields()">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ü–µ–ø—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ --</option>
                    </select>
                    <small class="field-hint">–°–µ—Ä—ã–º –æ—Ç–º–µ—á–µ–Ω—ã –ø—Ä–æ—Ü–µ—Å—Å—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö —É–∂–µ –µ—Å—Ç—å —Å—Ö–µ–º–∞ (TriG). ID –∏ label TriG —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞.</small>
                </div>
                <div class="new-trig-field">
                    <label for="new-trig-id">ID –Ω–æ–≤–æ–≥–æ TriG (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):</label>
                    <input type="text" id="new-trig-id" placeholder="t_{processId}" readonly style="background-color: #f5f5f5;">
                </div>
                <div class="new-trig-field">
                    <label for="new-trig-label">rdfs:label (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):</label>
                    <input type="text" id="new-trig-label" placeholder="–°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ {processLabel}" readonly style="background-color: #f5f5f5;">
                </div>
                <!-- issue #291: –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL –∑–∞–ø—Ä–æ—Å (–∫–∞–∫ –≤ New Concept –∏ Del Concept) -->
                <div id="new-trig-intermediate-sparql" style="display: none;">
                    <div class="intermediate-sparql-header">
                        <label>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL:</label>
                        <button class="toggle-sparql-btn" onclick="toggleNewTrigIntermediateSparql()">–°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
                    </div>
                    <textarea class="intermediate-sparql-textarea" rows="8" readonly></textarea>
                </div>
            </div>
            <div id="new-trig-message" class="new-trig-message" style="display: none;"></div>
            <div class="new-trig-modal-buttons">
                <button class="new-trig-cancel-btn" onclick="closeNewTrigModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="new-trig-sparql-btn" onclick="toggleNewTrigIntermediateSparql()">–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL</button>
                <button class="new-trig-create-btn" onclick="createNewTrig()">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å New TriG</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ö–æ–Ω—Ü–µ–ø—Ç–∞ (New Concept) -->
    <div id="new-concept-modal" class="new-concept-modal">
        <div class="new-concept-modal-content">
            <div class="new-concept-modal-header">
                <h3>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ö–æ–Ω—Ü–µ–ø—Ç–∞</h3>
                <div class="new-concept-modal-header-buttons">
                    <button class="new-concept-help-btn" onclick="showNewConceptHelp()" title="–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤">Help</button>
                    <button class="new-concept-modal-close" onclick="closeNewConceptModal()">&times;</button>
                </div>
            </div>
            <div class="new-concept-modal-body">
                <div class="new-concept-field">
                    <label for="new-concept-type">–¢–∏–ø –∫–æ–Ω—Ü–µ–ø—Ç–∞:</label>
                    <select id="new-concept-type" onchange="onNewConceptTypeChange()">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–æ–Ω—Ü–µ–ø—Ç–∞ --</option>
                        <option value="vad:TypeProcess">–Ω–æ–≤—ã–π –ö–æ–Ω—Ü–µ–ø—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ (vad:TypeProcess)</option>
                        <option value="vad:TypeExecutor">–Ω–æ–≤—ã–π –ö–æ–Ω—Ü–µ–ø—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (vad:TypeExecutor)</option>
                    </select>
                    <small class="field-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –≤–≤–æ–¥–∞ –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ SPARQL –∑–∞–ø—Ä–æ—Å–∞</small>
                </div>
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –ø–æ–ª–µ–π -->
                <div id="new-concept-fields-container">
                    <p class="new-concept-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–æ–Ω—Ü–µ–ø—Ç–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞</p>
                </div>
                <!-- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL –∑–∞–ø—Ä–æ—Å -->
                <div id="new-concept-intermediate-sparql" style="display: none;">
                    <div class="intermediate-sparql-header">
                        <label>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL:</label>
                        <button class="toggle-sparql-btn" onclick="toggleIntermediateSparql()">–°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
                    </div>
                    <textarea class="intermediate-sparql-textarea" rows="8" readonly></textarea>
                </div>
            </div>
            <div id="new-concept-message" class="new-concept-message" style="display: none;"></div>
            <div class="new-concept-modal-buttons">
                <button class="new-concept-cancel-btn" onclick="closeNewConceptModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="new-concept-sparql-btn" onclick="toggleIntermediateSparql()">–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL</button>
                <button class="new-concept-create-btn" onclick="createNewConceptSparql()">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å New Concept</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ö–æ–Ω—Ü–µ–ø—Ç–∞/–ò–Ω–¥–∏–≤–∏–¥–∞/–°—Ö–µ–º—ã (Del Concept\Individ) -->
    <div id="del-concept-modal" class="del-concept-modal">
        <div class="del-concept-modal-content">
            <div class="del-concept-modal-header">
                <h3>–£–¥–∞–ª–µ–Ω–∏–µ –ö–æ–Ω—Ü–µ–ø—Ç–∞ / –ò–Ω–¥–∏–≤–∏–¥–∞ / –°—Ö–µ–º—ã</h3>
                <div class="del-concept-modal-header-buttons">
                    <button class="del-concept-help-btn" onclick="showDelIndividProcessHelp()" title="–°–ø—Ä–∞–≤–∫–∞ –ø–æ —É–¥–∞–ª–µ–Ω–∏—é –∏–Ω–¥–∏–≤–∏–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞">Help</button>
                    <button class="del-concept-modal-close" onclick="closeDelConceptModal()">&times;</button>
                </div>
            </div>
            <div class="del-concept-modal-body">
                <div class="del-concept-field">
                    <label for="del-concept-operation">–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–¥–∞–ª–µ–Ω–∏—è:</label>
                    <select id="del-concept-operation" onchange="onDelOperationChange()">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ --</option>
                        <option value="concept-process">–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞</option>
                        <option value="concept-executor">–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</option>
                        <option value="individ-process">–£–¥–∞–ª–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–æ –≤—Å–µ—Ö —Å—Ö–µ–º–∞—Ö</option>
                        <option value="individ-executor">–£–¥–∞–ª–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≤–æ –≤—Å–µ—Ö —Å—Ö–µ–º–∞—Ö</option>
                        <option value="trig-schema">–£–¥–∞–ª–∏—Ç—å —Å—Ö–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å–∞ (TriG)</option>
                        <option value="individ-process-in-schema">–£–¥–∞–ª–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ —Å—Ö–µ–º–µ</option>
                        <option value="individ-executor-in-schema">–£–¥–∞–ª–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≤ —Å—Ö–µ–º–µ</option>
                    </select>
                    <small class="field-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</small>
                </div>
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –ø–æ–ª–µ–π -->
                <div id="del-concept-fields-container">
                    <p class="del-concept-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–µ–π</p>
                </div>
                <!-- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL –∑–∞–ø—Ä–æ—Å -->
                <div id="del-concept-intermediate-sparql" style="display: none;">
                    <div class="intermediate-sparql-header">
                        <label>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL:</label>
                        <button class="toggle-sparql-btn" onclick="toggleDelIntermediateSparql()">–°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
                    </div>
                    <textarea class="intermediate-sparql-textarea" rows="8" readonly></textarea>
                </div>
            </div>
            <div id="del-concept-message" class="del-concept-message" style="display: none;"></div>
            <div class="del-concept-modal-buttons">
                <button class="del-concept-cancel-btn" onclick="closeDelConceptModal()">–û—Ç–º–µ–Ω–∞</button>
                <button id="del-show-individuals-btn" class="del-concept-show-btn" onclick="showIndividuals()" style="display: none;">–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—ã</button>
                <button class="del-concept-sparql-btn" onclick="toggleDelIntermediateSparql()">–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL</button>
                <button class="del-concept-create-btn" onclick="createDeleteSparql()" disabled>–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ</button>
            </div>
        </div>
    </div>

    <!-- issue #309: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ò–Ω–¥–∏–≤–∏–¥–∞ (New Individ) -->
    <div id="new-individ-modal" class="new-individ-modal">
        <div class="new-individ-modal-content">
            <div class="new-individ-modal-header">
                <h3>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ò–Ω–¥–∏–≤–∏–¥–∞</h3>
                <div class="new-individ-modal-header-buttons">
                    <button class="new-individ-help-btn" onclick="showNewIndividHelp()" title="–°–ø—Ä–∞–≤–∫–∞ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∏–Ω–¥–∏–≤–∏–¥–æ–≤">Help</button>
                    <button class="new-individ-modal-close" onclick="closeNewIndividModal()">&times;</button>
                </div>
            </div>
            <div class="new-individ-modal-body">
                <div class="new-individ-field">
                    <label for="new-individ-type">–¢–∏–ø –∏–Ω–¥–∏–≤–∏–¥–∞:</label>
                    <select id="new-individ-type" onchange="onNewIndividTypeChange()">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∏–Ω–¥–∏–≤–∏–¥–∞ --</option>
                        <option value="individ-process">–ò–Ω–¥–∏–≤–∏–¥ –ø—Ä–æ—Ü–µ—Å—Å–∞</option>
                        <option value="individ-executor">–ò–Ω–¥–∏–≤–∏–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</option>
                    </select>
                    <small class="field-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ SPARQL</small>
                </div>
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –ø–æ–ª–µ–π -->
                <div id="new-individ-fields-container">
                    <p class="new-individ-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∏–Ω–¥–∏–≤–∏–¥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞</p>
                </div>
                <!-- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL –∑–∞–ø—Ä–æ—Å -->
                <div id="new-individ-intermediate-sparql" style="display: none;">
                    <div class="intermediate-sparql-header">
                        <label>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL:</label>
                        <button class="toggle-sparql-btn" onclick="toggleNewIndividIntermediateSparql()">–°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
                    </div>
                    <textarea class="intermediate-sparql-textarea" rows="8" readonly></textarea>
                </div>
            </div>
            <div id="new-individ-message" class="new-individ-message" style="display: none;"></div>
            <div class="new-individ-modal-buttons">
                <button class="new-individ-cancel-btn" onclick="closeNewIndividModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="new-individ-sparql-btn" onclick="toggleNewIndividIntermediateSparql()">–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL</button>
                <button class="new-individ-create-btn" onclick="createNewIndividSparql()">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å New Individ</button>
            </div>
        </div>
    </div>

    <!-- issue #370: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è vad:hasNext (Add hasNext Dia) -->
    <div id="hasnext-dia-modal" class="hasnext-dia-modal">
        <div class="hasnext-dia-modal-content">
            <div class="hasnext-dia-modal-header">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ vad:hasNext</h3>
                <div class="hasnext-dia-modal-header-buttons">
                    <button class="hasnext-dia-help-btn" onclick="showHasNextDiaHelp()" title="–°–ø—Ä–∞–≤–∫–∞ –ø–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é hasNext">Help</button>
                    <button class="hasnext-dia-modal-close" onclick="closeHasNextDiaModal()">&times;</button>
                </div>
            </div>
            <div class="hasnext-dia-modal-body">
                <!-- –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –Ω–µ—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ –ø–æ–ª—è -->
                <div class="hasnext-dia-field">
                    <label>–°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞:</label>
                    <input type="text" id="hasnext-dia-trig" readonly style="background-color: #f5f5f5;">
                </div>
                <div class="hasnext-dia-field">
                    <label>–ö–æ–Ω—Ü–µ–ø—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞:</label>
                    <input type="text" id="hasnext-dia-concept" readonly style="background-color: #f5f5f5;">
                </div>
                <!-- –†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ hasNext -->
                <div class="hasnext-dia-field">
                    <label>–†–µ–∂–∏–º vad:hasNext:</label>
                    <div class="hasnext-dia-mode-options">
                        <label class="new-concept-radio">
                            <input type="radio" name="hasnext-dia-mode" value="existing" checked onchange="onHasNextDiaModeChange()">
                            vad:hasNext –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π (–∏–Ω–¥–∏–≤–∏–¥—ã –≤ TriG)
                        </label>
                    </div>
                    <small class="field-hint">–í—ã–±–æ—Ä –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω–¥–∏–≤–∏–¥–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ —Ç–µ–∫—É—â–µ–º TriG</small>
                </div>
                <!-- Checkboxes –¥–ª—è hasNext -->
                <div class="hasnext-dia-field">
                    <label>vad:hasNext (–≤—ã–±–µ—Ä–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã):</label>
                    <div id="hasnext-dia-checkbox-container" class="hasnext-dia-checkbox-container">
                        <p class="hasnext-dia-hint">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>
                    <small class="field-hint">–û—Ç–º–µ—á–µ–Ω—ã —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è vad:hasNext. –î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ —Å–Ω–∏–º–∏—Ç–µ –æ—Ç–º–µ—Ç–∫–∏.</small>
                </div>
                <!-- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL –∑–∞–ø—Ä–æ—Å -->
                <div id="hasnext-dia-intermediate-sparql" style="display: none;">
                    <div class="intermediate-sparql-header">
                        <label>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL:</label>
                        <button class="toggle-sparql-btn" onclick="toggleHasNextDiaIntermediateSparql()">–°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
                    </div>
                    <textarea class="intermediate-sparql-textarea" rows="8" readonly></textarea>
                </div>
            </div>
            <div id="hasnext-dia-message" class="hasnext-dia-message" style="display: none;"></div>
            <div class="hasnext-dia-modal-buttons">
                <button class="hasnext-dia-cancel-btn" onclick="closeHasNextDiaModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="hasnext-dia-sparql-btn" onclick="toggleHasNextDiaIntermediateSparql()">–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL</button>
                <button class="hasnext-dia-create-btn" onclick="createHasNextDiaSparql()">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å hasNext</button>
            </div>
        </div>
    </div>

    <!-- issue #386: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Label –∫–æ–Ω—Ü–µ–ø—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ (Edit Label Concept Process) -->
    <div id="edit-label-modal" class="edit-label-modal">
        <div class="edit-label-modal-content" id="edit-label-modal-content">
            <div class="edit-label-modal-header" id="edit-label-modal-header">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Label –∫–æ–Ω—Ü–µ–ø—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞</h3>
                <div class="edit-label-modal-header-buttons">
                    <button class="edit-label-help-btn" onclick="showEditLabelHelp()" title="–°–ø—Ä–∞–≤–∫–∞ –ø–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Label">Help</button>
                    <button class="edit-label-modal-close" onclick="closeEditLabelModal()">&times;</button>
                </div>
            </div>
            <div class="edit-label-modal-body">
                <!-- issue #390: ptree (–Ω–µ—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π) - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥—Ä–∞—Ñ, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–æ–Ω—Ü–µ–ø—Ç—ã -->
                <div class="edit-label-field">
                    <label>ptree:</label>
                    <input type="text" id="edit-label-ptree" value="vad:ptree" readonly style="background-color: #f5f5f5;">
                    <small class="field-hint">–ì—Ä–∞—Ñ, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–æ–Ω—Ü–µ–ø—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –∏—Ö label</small>
                </div>
                <!-- ID (–Ω–µ—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π) -->
                <div class="edit-label-field">
                    <label>ID –∫–æ–Ω—Ü–µ–ø—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞:</label>
                    <input type="text" id="edit-label-process-id" readonly style="background-color: #f5f5f5;">
                </div>
                <!-- Label (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π) -->
                <div class="edit-label-field">
                    <label>Label (rdfs:label):</label>
                    <input type="text" id="edit-label-input" oninput="onEditLabelInput()">
                    <small class="field-hint">–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π label –¥–ª—è –∫–æ–Ω—Ü–µ–ø—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞</small>
                </div>
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ö–µ–º–µ (hasTrig) -->
                <div class="edit-label-field" id="edit-label-trig-info" style="display: none;">
                    <label>–°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ (vad:hasTrig):</label>
                    <input type="text" id="edit-label-trig-uri" readonly style="background-color: #f5f5f5;">
                    <small class="field-hint">Label —Å—Ö–µ–º—ã –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ "–°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ {–Ω–æ–≤—ã–π_label}"</small>
                </div>
                <!-- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL –∑–∞–ø—Ä–æ—Å -->
                <div id="edit-label-intermediate-sparql" style="display: none;">
                    <div class="intermediate-sparql-header">
                        <label>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL:</label>
                        <button class="toggle-sparql-btn" onclick="toggleEditLabelIntermediateSparql()">–°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
                    </div>
                    <textarea class="intermediate-sparql-textarea" id="edit-label-intermediate-textarea" rows="8" readonly></textarea>
                </div>
            </div>
            <div id="edit-label-message" class="edit-label-message" style="display: none;"></div>
            <div class="edit-label-modal-buttons">
                <button class="edit-label-cancel-btn" onclick="closeEditLabelModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="edit-label-sparql-btn" onclick="toggleEditLabelIntermediateSparql()">–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π SPARQL</button>
                <button class="edit-label-create-btn" onclick="createEditLabelSparql()">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å Edit Label</button>
            </div>
        </div>
    </div>

    <!-- issue #309: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è Virtual TriG -->
    <div id="virtual-trig-modal" class="virtual-trig-modal">
        <div class="virtual-trig-modal-content">
            <div class="virtual-trig-modal-header">
                <h3>Virtual TriG (–ø–µ—Ä–µ—Å—á—ë—Ç –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è SPARQL)</h3>
                <button class="virtual-trig-modal-close" onclick="closeVirtualTrigModal()">&times;</button>
            </div>
            <div class="virtual-trig-modal-body">
                <textarea class="virtual-trig-textarea" id="virtual-trig-result" rows="20" readonly></textarea>
            </div>
            <div class="virtual-trig-modal-buttons">
                <button class="virtual-trig-close-btn" onclick="closeVirtualTrigModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div id="test-result-modal" class="test-result-modal">
        <div class="test-result-modal-content">
            <div class="test-result-modal-header">
                <h3 id="test-result-modal-title">–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</h3>
                <button class="test-result-modal-close" onclick="closeTestResultModal()">&times;</button>
            </div>
            <div class="test-result-modal-body">
                <textarea id="test-result-modal-text" class="test-result-textarea" readonly></textarea>
            </div>
            <div class="test-result-modal-buttons">
                <button class="test-result-checks-btn" onclick="showChecksList()">–°–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫</button>
                <button class="test-result-copy-btn" onclick="copyTestResultToClipboard()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                <button class="test-result-close-btn" onclick="closeTestResultModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- issue #236: –û–∫–Ω–æ "5_publisher" - Publisher - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ -->
    <div class="window-section" id="window-5_publisher">
        <div class="window-header" onclick="togglePanel('5_publisher')">
            <h3>Publisher</h3>
            <span class="window-toggle" id="toggle-5_publisher">&#9660;</span>
        </div>
        <div class="window-content" id="content-5_publisher">
            <!-- issue #370: –ö–Ω–æ–ø–∫–∞ –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏ –î–∏–∞–≥—Ä–∞–º–º–∞ -->
            <div class="result-container" id="result-container">
                <!-- VAD TriG —Ä–µ–∂–∏–º: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–∏–∞–≥—Ä–∞–º–º–æ–π —Å–ª–µ–≤–∞ –∏ –ø–∞–Ω–µ–ª—è–º–∏ —Å–ø—Ä–∞–≤–∞ -->
                <div class="vad-trig-container" id="vad-trig-container" style="display: none;">
                    <!-- –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                    <div class="vad-trig-diagram-wrapper">
                        <div class="diagram-panel">
                            <div class="diagram-panel-header">
                                <span class="diagram-header-text">–î–∏–∞–≥—Ä–∞–º–º–∞</span>
                                <div class="diagram-nav-buttons">
                                    <!-- issue #370: –ö–Ω–æ–ø–∫–∞ –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –î–∏–∞–≥—Ä–∞–º–º—ã —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –∑–Ω–∞—á–∫–æ–º -->
                                    <button class="diagram-nav-btn diagram-refresh-btn" id="diagram-refresh" onclick="refreshVisualization()" title="–û–±–Ω–æ–≤–∏—Ç—å">&#x21BB;</button>
                                    <!-- issue #376: –ö–Ω–æ–ø–∫–∞ –î–æ–º–æ–π –¥–ª—è —Å–±—Ä–æ—Å–∞ TreeView –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
                                    <button class="diagram-nav-btn diagram-home-btn" id="diagram-home" onclick="resetTreeViewToInitialState()" title="–î–æ–º–æ–π - —Å–≤–µ—Ä–Ω—É—Ç—å TreeView –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ">&#x2302;</button>
                                    <button class="diagram-nav-btn" id="diagram-nav-back" onclick="navigateDiagramBack()" title="–ù–∞–∑–∞–¥" disabled>&lt;</button>
                                    <button class="diagram-nav-btn" id="diagram-nav-forward" onclick="navigateDiagramForward()" title="–í–ø–µ—Ä—ë–¥" disabled>&gt;</button>
                                    <!-- issue #406: –ö–Ω–æ–ø–∫–∞ –§–∏–ª—å—Ç—Ä –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                                    <button class="diagram-filter-btn" id="diagram-filter" onclick="toggleDiagramFilterDropdown(event)" title="–§–∏–ª—å—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º—ã">–§–∏–ª—å—Ç—Ä</button>
                                    <!-- issue #386: –ö–Ω–æ–ø–∫–∞ –ú–µ—Ç–æ–¥—ã –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º—ã (Del Dia –∏ –¥—Ä.) -->
                                    <button class="diagram-methods-btn" id="diagram-methods" onclick="toggleDiagramMethodsDropdown(event)" title="–ú–µ—Ç–æ–¥—ã –¥–∏–∞–≥—Ä–∞–º–º—ã">–ú–µ—Ç–æ–¥—ã</button>
                                </div>
                            </div>
                            <div class="diagram-panel-content">
                                <div class="zoom-container vad-trig-zoom-container" id="vad-trig-zoom-container">
                                    <div class="zoom-content" id="vad-trig-zoom-content">
                                        <div id="vad-trig-output"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="zoom-controls vad-trig-zoom-controls" id="vad-trig-zoom-controls" style="display: none;">
                                <button onclick="zoomOut()">-</button>
                                <span id="vad-trig-zoom-level">100%</span>
                                <button onclick="zoomIn()">+</button>
                                <button onclick="zoomReset()">–°–±—Ä–æ—Å</button>
                                <button onclick="zoomFit()">–í–ø–∏—Å–∞—Ç—å</button>
                            </div>
                        </div>
                    </div>

                    <!-- –ü–∞–Ω–µ–ª–∏ —Å–ª–µ–≤–∞ -->
                    <div class="vad-trig-left-panels">
                        <!-- –ü–∞–Ω–µ–ª—å –¥–µ—Ä–µ–≤–∞ TriG -->
                        <div class="trig-tree-panel">
                            <div class="trig-tree-header">
                                <span>–î–µ—Ä–µ–≤–æ TriG</span>
                                <button class="trig-tree-find-btn" onclick="openTriGSearchDialog()" title="–ü–æ–∏—Å–∫ –≤ –¥–µ—Ä–µ–≤–µ TriG">–ù–∞–π—Ç–∏</button>
                            </div>
                            <div class="trig-tree-content" id="trig-tree-content">
                                <div class="trig-properties-empty">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ TriG</div>
                            </div>
                        </div>

                        <!-- –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–∞ (issue #368: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ) -->
                        <div class="trig-properties-panel">
                            <div class="trig-properties-header">–ö–∞—Ä—Ç–æ—á–∫–∞ –æ–±—ä–µ–∫—Ç–∞ treeview</div>
                            <div class="trig-properties-content" id="trig-properties-content">
                                <div class="trig-properties-empty">–í—ã–±–µ—Ä–∏—Ç–µ TriG –≤ –¥–µ—Ä–µ–≤–µ</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="zoom-controls" id="zoom-controls" style="display: none;">
                    <button onclick="zoomOut()">-</button>
                    <span id="zoom-level">100%</span>
                    <button onclick="zoomIn()">+</button>
                    <button onclick="zoomReset()">–°–±—Ä–æ—Å</button>
                    <button onclick="zoomFit()">–í–ø–∏—Å–∞—Ç—å</button>
                </div>
                <div class="zoom-container" id="zoom-container">
                    <div class="zoom-content" id="zoom-content">
                        <div id="output"></div>
                    </div>
                </div>
                <div class="export-buttons" id="export-buttons" style="display: none;">
                    <button onclick="downloadSVG()">–°–∫–∞—á–∞—Ç—å SVG</button>
                    <button onclick="downloadPNG()">–°–∫–∞—á–∞—Ç—å PNG</button>
                    <button onclick="openInNewWindowGitHub()">–ü–æ–∫–∞–∑–∞—Ç—å –≤ –æ–∫–Ω–µ github</button>
                    <button onclick="openInNewWindowLdfFi()">–ü–æ–∫–∞–∑–∞—Ç—å –≤ –æ–∫–Ω–µ ldf.fi</button>
                    <button onclick="openInNewWindowLdfFiTrig()">–ü–æ–∫–∞–∑–∞—Ç—å –≤ –æ–∫–Ω–µ ldf.fi (TriG)</button>
                    <button onclick="openInNewWindowGraphvizOnline()">–ü–æ–∫–∞–∑–∞—Ç—å –≤ –æ–∫–Ω–µ GraphvizOnline</button>
                </div>
            </div>
        </div>
    </div>

    <!-- issue #236: –û–∫–Ω–æ "6_legend" - –õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∏–ª–µ–π - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ -->
    <div class="window-section" id="window-6_legend">
        <div class="window-header" onclick="togglePanel('6_legend')">
            <h3>–õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∏–ª–µ–π</h3>
            <span class="window-toggle" id="toggle-6_legend">&#9660;</span>
        </div>
        <div class="window-content" id="content-6_legend">
            <div class="legend-panel" id="legend-panel" style="display: none;">
                <div class="legend-content" id="legend-content"></div>
            </div>
        </div>
    </div>

    <!-- issue #236: –û–∫–Ω–æ "7_info" - Prefixes - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ -->
    <div class="window-section" id="window-7_info">
        <div class="window-header" onclick="togglePanel('7_info')">
            <h3>Prefixes</h3>
            <span class="window-toggle" id="toggle-7_info">&#9660;</span>
        </div>
        <div class="window-content" id="content-7_info">
            <div class="prefixes-panel" id="prefixes-panel" style="display: none;">
                <div class="prefixes-content" id="prefixes-content"></div>
            </div>
        </div>
    </div>

    <!-- issue #236: –û–∫–Ω–æ "8_infoSPARQL" - SPARQL –∑–∞–ø—Ä–æ—Å - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ -->
    <div class="window-section" id="window-8_infoSPARQL">
        <div class="window-header" onclick="togglePanel('8_infoSPARQL')">
            <h3>SPARQL –∑–∞–ø—Ä–æ—Å</h3>
            <span class="window-toggle" id="toggle-8_infoSPARQL">&#9660;</span>
        </div>
        <div class="window-content" id="content-8_infoSPARQL">
            <div class="sparql-panel" id="sparql-panel">
                <textarea class="sparql-query-textarea" id="sparql-query" placeholder="–í–≤–µ–¥–∏—Ç–µ SPARQL –∑–∞–ø—Ä–æ—Å...">SELECT ?s ?p ?o
WHERE {
    ?s ?p ?o .
}</textarea>
                <div class="sparql-buttons">
                    <button onclick="executeSparqlQuery()">–í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å</button>
                    <button onclick="resetSparqlQuery()">–°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>
                <div class="sparql-results" id="sparql-results" style="display: none;">
                    <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–∞:</h4>
                    <div id="sparql-results-content"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================================================== -->
    <!-- –í–ù–ï–®–ù–ò–ï –ë–ò–ë–õ–ò–û–¢–ï–ö–ò                                                         -->
    <!-- ========================================================================== -->

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ N3.js –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ RDF -->
    <script src="https://unpkg.com/n3@1.17.2/browser/n3.min.js"></script>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Viz.js –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≥—Ä–∞—Ñ–æ–≤ -->
    <script src="https://unpkg.com/@viz-js/viz@3.4.0/lib/viz-standalone.js"></script>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Comunica –¥–ª—è SPARQL –∑–∞–ø—Ä–æ—Å–æ–≤ -->
    <script src="https://rdf.js.org/comunica-browser/versions/v4/engines/query-sparql-rdfjs/comunica-browser.js"></script>

    <!-- ========================================================================== -->
    <!-- –ú–û–î–£–õ–¨ 9: –ë–ê–ó–û–í–ê–Ø –ë–ò–ë–õ–ò–û–¢–ï–ö–ê (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π)                          -->
    <!-- ========================================================================== -->

    <!-- issue #232, #368: –ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —É—Ç–∏–ª–∏—Ç—ã -->
    <script src="9_vadlib/vadlib_logic.js"></script>
    <!-- issue #368: UI —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—â–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–¥–∏–∞–ª–æ–≥–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) -->
    <script src="9_vadlib/vadlib_ui.js"></script>
    <!-- issue #232: SPARQL –¥–≤–∏–∂–æ–∫ (funSPARQLvalues) -->
    <script src="9_vadlib/vadlib_sparql.js"></script>

    <!-- ========================================================================== -->
    <!-- –ú–û–î–£–õ–ò 1-8: –ú–û–î–£–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê (issue #232, issue #234)                   -->
    <!-- ========================================================================== -->

    <!-- –ú–æ–¥—É–ª—å 1: –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö -->
    <script src="1_example_data/1_example_data_logic.js"></script>
    <script src="1_example_data/1_example_data_ui.js"></script>

    <!-- –ú–æ–¥—É–ª—å 2: –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ç—Ä–∏–ø–ª–µ—Ç–æ–≤ -->
    <script src="2_triplestore/2_triplestore_logic.js"></script>
    <script src="2_triplestore/2_triplestore_ui.js"></script>
    <script src="2_triplestore/2_triplestore_validation.js"></script>
    <script src="2_triplestore/2_triplestore_test/2_triplestore_test_logic.js"></script>
    <script src="2_triplestore/2_triplestore_test/2_triplestore_test_sparql.js"></script>

    <!-- –ú–æ–¥—É–ª—å 3: Smart Design -->
    <script src="3_sd/3_sd_sparql.js"></script>
    <script src="3_sd/3_sd_logic.js"></script>
    <script src="3_sd/3_sd_ui.js"></script>
    <script src="3_sd/3_sd_create_new_concept/3_sd_create_new_concept_sparql.js"></script>
    <script src="3_sd/3_sd_create_new_concept/3_sd_create_new_concept_logic.js"></script>
    <script src="3_sd/3_sd_create_new_concept/3_sd_create_new_concept_ui.js"></script>
    <script src="3_sd/3_sd_create_new_trig/3_sd_create_new_trig_logic.js"></script>
    <script src="3_sd/3_sd_create_new_trig/3_sd_create_new_trig_ui.js"></script>
    <script src="3_sd/3_sd_create_new_individ/3_sd_create_new_individ_sparql.js"></script>
    <script src="3_sd/3_sd_create_new_individ/3_sd_create_new_individ_logic.js"></script>
    <script src="3_sd/3_sd_create_new_individ/3_sd_create_new_individ_ui.js"></script>
    <script src="3_sd/3_sd_del_concept_individ/3_sd_del_concept_individ_sparql.js"></script>
    <script src="3_sd/3_sd_del_concept_individ/3_sd_del_concept_individ_logic.js"></script>
    <script src="3_sd/3_sd_del_concept_individ/3_sd_del_concept_individ_ui.js"></script>

    <!-- –ú–æ–¥—É–ª—å 4: Result in SPARQL -->
    <script src="4_resSPARQL/4_resSPARQL_ui.js"></script>

    <!-- –ú–æ–¥—É–ª—å 5: Publisher (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è) -->
    <script src="5_publisher/5_publisher_sparql.js"></script>
    <script src="5_publisher/5_publisher_logic.js"></script>
    <!-- issue #368: –ü–æ–¥–º–æ–¥—É–ª—å TreeView (–¥–µ—Ä–µ–≤–æ TriG –∏ –ö–∞—Ä—Ç–æ—á–∫–∞ –æ–±—ä–µ–∫—Ç–∞ treeview) -->
    <script src="5_publisher/5_publisher_treeview/5_publisher_treeview_ui.js"></script>
    <!-- issue #408: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –≤ TreeView -->
    <script src="5_publisher/5_publisher_treeview/5_publisher_treeview_search.js"></script>
    <!-- issue #368: –ü–æ–¥–º–æ–¥—É–ª—å ExportView (—ç–∫—Å–ø–æ—Ä—Ç SVG, PNG, –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤–æ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö) -->
    <script src="5_publisher/5_publisher_exportview/5_publisher_exportview_logic.js"></script>
    <script src="5_publisher/5_publisher_ui.js"></script>

    <!-- –ú–æ–¥—É–ª—å 6: –õ–µ–≥–µ–Ω–¥–∞ -->
    <script src="6_legend/6_legend_ui.js"></script>

    <!-- –ú–æ–¥—É–ª—å 7: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <script src="7_info/7_info_ui.js"></script>

    <!-- –ú–æ–¥—É–ª—å 8: SPARQL –ø–∞–Ω–µ–ª—å -->
    <script src="8_infoSPARQL/8_infoSPARQL_sparql.js"></script>
    <script src="8_infoSPARQL/8_infoSPARQL_ui.js"></script>

    <!-- issue #317: –ú–æ–¥—É–ª—å 10: Virtual TriG -->
    <script src="10_virtualTriG/10_virtualTriG_sparql.js"></script>
    <script src="10_virtualTriG/10_virtualTriG_logic.js"></script>
    <script src="10_virtualTriG/10_virtualTriG_ui.js"></script>

    <!-- issue #317: –ú–æ–¥—É–ª—å 11: Reasoning -->
    <script src="11_reasoning/11_reasoning_sparql.js"></script>
    <script src="11_reasoning/11_reasoning_logic.js"></script>

    <!-- issue #368: –ú–æ–¥—É–ª—å 12: –ú–µ—Ç–æ–¥—ã (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ –ú–µ—Ç–æ–¥—ã –≤ –æ–∫–Ω–µ –°–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã) -->
    <script src="12_method/12_method_sparql.js"></script>
    <script src="12_method/12_method_logic.js"></script>
    <script src="12_method/12_method_ui.js"></script>

    <!-- issue #406: –ú–æ–¥—É–ª—å 13: –§–∏–ª—å—Ç—Ä –¥–∏–∞–≥—Ä–∞–º–º—ã (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ –§–∏–ª—å—Ç—Ä –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –¥–∏–∞–≥—Ä–∞–º–º—ã) -->
    <script src="13_filter/13_filter_logic.js"></script>

    <!-- ========================================================================== -->
    <!-- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø                                                              -->
    <!-- ========================================================================== -->

    <script>
        // issue #232: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        // –í—Å—è –ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤–æ –≤–Ω–µ—à–Ω–∏–µ –º–æ–¥—É–ª–∏

        // issue #236: –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–º–∏ –æ–∫–Ω–∞–º–∏
        /**
         * –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤–µ—Ä–Ω—É—Ç–æ—Å—Ç–∏/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ—Å—Ç–∏ –æ–∫–Ω–∞
         * @param {string} windowId - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–∫–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, '1_example_data')
         */
        function togglePanel(windowId) {
            const content = document.getElementById('content-' + windowId);
            const toggle = document.getElementById('toggle-' + windowId);
            if (!content || !toggle) return;

            const isCollapsed = content.classList.toggle('collapsed');
            if (isCollapsed) {
                toggle.classList.add('collapsed');
            } else {
                toggle.classList.remove('collapsed');
            }
        }

        /**
         * –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤–µ—Ä–Ω—É—Ç–æ—Å—Ç–∏ –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –æ–∫–Ω—É
         * @param {string} windowId - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–∫–Ω–∞
         * @param {boolean} collapsed - true –µ—Å–ª–∏ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–≤–µ—Ä–Ω—É—Ç–æ
         */
        function applyPanelCollapsedState(windowId, collapsed) {
            const content = document.getElementById('content-' + windowId);
            const toggle = document.getElementById('toggle-' + windowId);
            if (!content || !toggle) return;

            if (collapsed) {
                content.classList.add('collapsed');
                toggle.classList.add('collapsed');
            } else {
                content.classList.remove('collapsed');
                toggle.classList.remove('collapsed');
            }
        }

        /**
         * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–∫–æ–Ω –∏–∑ config.json –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
         */
        async function loadWindowConfig() {
            try {
                const response = await fetch('config.json');
                if (!response.ok) {
                    console.warn('config.json –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
                    return;
                }
                const config = await response.json();
                if (config.windows) {
                    for (const [windowId, windowConfig] of Object.entries(config.windows)) {
                        if (windowConfig.collapsed) {
                            applyPanelCollapsedState(windowId, true);
                        }
                    }
                }
                console.log('Window config loaded successfully');
            } catch (error) {
                console.error('Error loading window config:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –±–∞–∑–æ–≤—É—é –æ–Ω—Ç–æ–ª–æ–≥–∏—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadTechAppendix();
            // issue #359: –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–∑–æ–≤—É—é –æ–Ω—Ç–æ–ª–æ–≥–∏—é VAD –¥–ª—è semantic reasoning
            loadVADOntology();
            // issue #234: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —Ä–µ–∂–∏–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª–µ–π
            if (typeof updateModeDescription === 'function') {
                updateModeDescription();
            }
            // issue #236: –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–∫–æ–Ω –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤–µ—Ä–Ω—É—Ç–æ—Å—Ç–∏
            loadWindowConfig();

            // issue #239: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤ Smart Design
            // (—É—Ç–µ—Ä—è–Ω—ã –ø—Ä–∏ —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –≤ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, issue #232)
            const trigSelect = document.getElementById('smart-design-trig');
            const subjectSelect = document.getElementById('smart-design-subject');
            const subjectTypeSelect = document.getElementById('smart-design-subject-type');
            const predicateSelect = document.getElementById('smart-design-predicate');
            const objectSelect = document.getElementById('smart-design-object');

            if (trigSelect) {
                trigSelect.addEventListener('change', function() {
                    updateSmartDesignFieldsState();
                    populateSubjectTypeDropdown();
                    updateSubjectPredicateDropdowns();
                });
            }

            if (subjectSelect) {
                subjectSelect.addEventListener('change', function() {
                    handleSubjectSelectChange(this);
                    autoDetectSubjectType();
                });
            }

            if (subjectTypeSelect) {
                subjectTypeSelect.addEventListener('change', function() {
                    updateSubjectsBySubjectType();
                    updatePredicateBySubjectType();
                });
            }

            if (predicateSelect) {
                predicateSelect.addEventListener('change', function() {
                    updateObjectsByPredicate();
                });
            }

            if (objectSelect) {
                objectSelect.addEventListener('change', function() {
                    handleSelectChange(this, 'Object', function() { return false; }, true);
                });
            }

            // issue #293: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            initDraggableModals();
        });

        // issue #293: –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
        /**
         * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
         */
        function initDraggableModals() {
            // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏ –∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–∏
            // issue #295: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏ - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω—ã–µ –∏–º–µ–Ω–∞ –∫–ª–∞—Å—Å–æ–≤
            const modals = [
                { modal: 'new-concept-modal', header: 'new-concept-modal-header', content: 'new-concept-modal-content' },
                { modal: 'new-individ-modal', header: 'new-individ-modal-header', content: 'new-individ-modal-content' },
                { modal: 'new-trig-modal', header: 'new-trig-modal-header', content: 'new-trig-modal-content' },
                { modal: 'del-concept-modal', header: 'del-concept-modal-header', content: 'del-concept-modal-content' },
                { modal: 'virtual-trig-modal', header: 'virtual-trig-modal-header', content: 'virtual-trig-modal-content' },
                // issue #370: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è vad:hasNext
                { modal: 'hasnext-dia-modal', header: 'hasnext-dia-modal-header', content: 'hasnext-dia-modal-content' },
                // issue #386: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Label –∫–æ–Ω—Ü–µ–ø—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
                { modal: 'edit-label-modal', header: 'edit-label-modal-header', content: 'edit-label-modal-content' }
            ];

            modals.forEach(config => {
                // issue #295: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω—ã–µ –∏–º–µ–Ω–∞ –∫–ª–∞—Å—Å–æ–≤ –Ω–∞–ø—Ä—è–º—É—é –≤–º–µ—Å—Ç–æ string manipulation
                const modalContent = document.querySelector(`#${config.modal} .${config.content}`);
                const header = document.querySelector(`#${config.modal} .${config.header}`);

                if (modalContent && header) {
                    makeDraggable(modalContent, header, config.modal);
                }
            });
        }

        /**
         * –î–µ–ª–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–º –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
         * @param {HTMLElement} element - –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
         * @param {HTMLElement} header - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞ –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º
         * @param {string} modalId - ID –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
         */
        function makeDraggable(element, header, modalId) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            let isDragging = false;

            header.onmousedown = dragMouseDown;

            function dragMouseDown(e) {
                // –ù–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –µ—Å–ª–∏ –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –∑–∞–∫—Ä—ã—Ç–∏—è –∏–ª–∏ help
                if (e.target.tagName === 'BUTTON' || e.target.closest('button')) {
                    return;
                }

                e.preventDefault();
                isDragging = true;
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                if (!isDragging) return;
                e.preventDefault();
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;

                // –£–±–∏—Ä–∞–µ–º transform –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
                element.style.transform = 'none';

                // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
                let newTop = element.offsetTop - pos2;
                let newLeft = element.offsetLeft - pos1;

                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–∫–Ω–∞
                const maxTop = window.innerHeight - 100;
                const maxLeft = window.innerWidth - 100;

                newTop = Math.max(0, Math.min(newTop, maxTop));
                newLeft = Math.max(0, Math.min(newLeft, maxLeft));

                element.style.top = newTop + "px";
                element.style.left = newLeft + "px";
            }

            function closeDragElement() {
                isDragging = false;
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

        /**
         * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤ —Ü–µ–Ω—Ç—Ä (–ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏)
         * @param {string} modalId - ID –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
         */
        function resetModalPosition(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;

            const contentClass = modalId.replace('-modal', '-modal-content');
            const content = modal.querySelector('.' + contentClass);

            if (content) {
                content.style.top = '50px';
                content.style.left = '50%';
                content.style.transform = 'translateX(-50%)';
            }
        }
    </script>
</body>
</html>
